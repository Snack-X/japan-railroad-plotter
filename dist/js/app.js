!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/dist/",n(n.s=63)}([function(t,e,n){var r=n(15),o=36e5,a=6e4,s=2,i=/[T ]/,u=/:/,c=/^(\d{2})$/,p=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],l=/^(\d{4})/,f=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],h=/^-(\d{2})$/,d=/^-?(\d{3})$/,m=/^-?(\d{2})-?(\d{2})$/,v=/^-?W(\d{2})$/,y=/^-?W(\d{2})-?(\d{1})$/,g=/^(\d{2}([.,]\d*)?)$/,x=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,S=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,M=/([Z+-].*)$/,w=/^(Z)$/,b=/^([+-])(\d{2})$/,T=/^([+-])(\d{2}):?(\d{2})$/;function D(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var o=7*e+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+o),r}t.exports=function(t,e){if(r(t))return new Date(t.getTime());if("string"!=typeof t)return new Date(t);var n=(e||{}).additionalDigits;n=null==n?s:Number(n);var I=function(t){var e,n={},r=t.split(i);if(u.test(r[0])?(n.date=null,e=r[0]):(n.date=r[0],e=r[1]),e){var o=M.exec(e);o?(n.time=e.replace(o[1],""),n.timezone=o[1]):n.time=e}return n}(t),E=function(t,e){var n,r=p[e],o=f[e];if(n=l.exec(t)||o.exec(t)){var a=n[1];return{year:parseInt(a,10),restDateString:t.slice(a.length)}}if(n=c.exec(t)||r.exec(t)){var s=n[1];return{year:100*parseInt(s,10),restDateString:t.slice(s.length)}}return{year:null}}(I.date,n),O=E.year,R=function(t,e){if(null===e)return null;var n,r,o,a;if(0===t.length)return(r=new Date(0)).setUTCFullYear(e),r;if(n=h.exec(t))return r=new Date(0),o=parseInt(n[1],10)-1,r.setUTCFullYear(e,o),r;if(n=d.exec(t)){r=new Date(0);var s=parseInt(n[1],10);return r.setUTCFullYear(e,0,s),r}if(n=m.exec(t)){r=new Date(0),o=parseInt(n[1],10)-1;var i=parseInt(n[2],10);return r.setUTCFullYear(e,o,i),r}if(n=v.exec(t))return a=parseInt(n[1],10)-1,D(e,a);if(n=y.exec(t)){a=parseInt(n[1],10)-1;var u=parseInt(n[2],10)-1;return D(e,a,u)}return null}(E.restDateString,O);if(R){var P,k=R.getTime(),C=0;return I.time&&(C=function(t){var e,n,r;if(e=g.exec(t))return(n=parseFloat(e[1].replace(",",".")))%24*o;if(e=x.exec(t))return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),n%24*o+r*a;if(e=S.exec(t)){n=parseInt(e[1],10),r=parseInt(e[2],10);var s=parseFloat(e[3].replace(",","."));return n%24*o+r*a+1e3*s}return null}(I.time)),I.timezone?P=function(t){var e,n;return(e=w.exec(t))?0:(e=b.exec(t))?(n=60*parseInt(e[2],10),"+"===e[1]?-n:n):(e=T.exec(t))?(n=60*parseInt(e[2],10)+parseInt(e[3],10),"+"===e[1]?-n:n):0}(I.timezone):(P=new Date(k+C).getTimezoneOffset(),P=new Date(k+C+P*a).getTimezoneOffset()),new Date(k+C+P*a)}return new Date(t)}},function(t,e,n){var r=n(0),o=n(2);t.exports=function(t){var e=r(t),n=e.getFullYear(),a=new Date(0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);var s=o(a),i=new Date(0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);var u=o(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=u.getTime()?n:n-1}},function(t,e,n){var r=n(9);t.exports=function(t){return r(t,{weekStartsOn:1})}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setHours(0,0,0,0),e}},function(t,e){var n=function(t,e){return this instanceof n?t instanceof n?t:("string"==typeof t&&(t=this.select(t,e)),t&&t.nodeName&&(t=[t]),void(this.nodes=this.slice(t))):new n(t,e)};n.prototype={get length(){return this.nodes.length}},n.prototype.nodes=[],n.prototype.addClass=function(){return this.eacharg(arguments,function(t,e){t.classList.add(e)})},n.prototype.adjacent=function(t,e,r){return"number"==typeof e&&(e=0===e?[]:new Array(e).join().split(",").map(Number.call,Number)),this.each(function(o,a){var s=document.createDocumentFragment();n(e||{}).map(function(e,r){var s="function"==typeof t?t.call(this,e,r,o,a):t;return"string"==typeof s?this.generate(s):n(s)}).each(function(t){this.isInPage(t)?s.appendChild(n(t).clone().first()):s.appendChild(t)}),r.call(this,o,s)})},n.prototype.after=function(t,e){return this.adjacent(t,e,function(t,e){t.parentNode.insertBefore(e,t.nextSibling)})},n.prototype.append=function(t,e){return this.adjacent(t,e,function(t,e){t.appendChild(e)})},n.prototype.args=function(t,e,n){return"function"==typeof t&&(t=t(e,n)),"string"!=typeof t&&(t=this.slice(t).map(this.str(e,n))),t.toString().split(/[\s,]+/).filter(function(t){return t.length})},n.prototype.array=function(t){t=t;var e=this;return this.nodes.reduce(function(r,o,a){var s;return t?((s=t.call(e,o,a))||(s=!1),"string"==typeof s&&(s=n(s)),s instanceof n&&(s=s.nodes)):s=o.innerHTML,r.concat(!1!==s?s:[])},[])},n.prototype.attr=function(t,e,n){return n=n?"data-":"",this.pairs(t,e,function(t,e){return t.getAttribute(n+e)},function(t,e,r){t.setAttribute(n+e,r)})},n.prototype.before=function(t,e){return this.adjacent(t,e,function(t,e){t.parentNode.insertBefore(e,t)})},n.prototype.children=function(t){return this.map(function(t){return this.slice(t.children)}).filter(t)},n.prototype.clone=function(){return this.map(function(t,e){var n=t.cloneNode(!0),r=this.getAll(n);return this.getAll(t).each(function(t,e){for(var n in this.mirror)this.mirror[n]&&this.mirror[n](t,r.nodes[e])}),n})},n.prototype.getAll=function(t){return n([t].concat(n("*",t).nodes))},n.prototype.mirror={},n.prototype.mirror.events=function(t,e){if(t._e)for(var r in t._e)t._e[r].forEach(function(t){n(e).on(r,t)})},n.prototype.mirror.select=function(t,e){n(t).is("select")&&(e.value=t.value)},n.prototype.mirror.textarea=function(t,e){n(t).is("textarea")&&(e.value=t.value)},n.prototype.closest=function(t){return this.map(function(e){do{if(n(e).is(t))return e}while((e=e.parentNode)&&e!==document)})},n.prototype.data=function(t,e){return this.attr(t,e,!0)},n.prototype.each=function(t){return this.nodes.forEach(t.bind(this)),this},n.prototype.eacharg=function(t,e){return this.each(function(n,r){this.args(t,n,r).forEach(function(t){e.call(this,n,t)},this)})},n.prototype.empty=function(){return this.each(function(t){for(;t.firstChild;)t.removeChild(t.firstChild)})},n.prototype.filter=function(t){var e=function(e){return e.matches=e.matches||e.msMatchesSelector||e.webkitMatchesSelector,e.matches(t||"*")};return"function"==typeof t&&(e=t),t instanceof n&&(e=function(e){return-1!==t.nodes.indexOf(e)}),n(this.nodes.filter(e))},n.prototype.find=function(t){return this.map(function(e){return n(t||"*",e)})},n.prototype.first=function(){return this.nodes[0]||!1},n.prototype.generate=function(t){return/^\s*<tr[> ]/.test(t)?n(document.createElement("table")).html(t).children().children().nodes:/^\s*<t(h|d)[> ]/.test(t)?n(document.createElement("table")).html(t).children().children().children().nodes:/^\s*</.test(t)?n(document.createElement("div")).html(t).children().nodes:document.createTextNode(t)},n.prototype.handle=function(){var t=this.slice(arguments).map(function(t){return"function"==typeof t?function(e){e.preventDefault(),t.apply(this,arguments)}:t},this);return this.on.apply(this,t)},n.prototype.hasClass=function(){return this.is("."+this.args(arguments).join("."))},n.prototype.html=function(t){return void 0===t?this.first().innerHTML||"":this.each(function(e){e.innerHTML=t})},n.prototype.is=function(t){return 0<this.filter(t).length},n.prototype.isInPage=function(t){return t!==document.body&&document.body.contains(t)},n.prototype.last=function(){return this.nodes[this.length-1]||!1},n.prototype.map=function(t){return t?n(this.array(t)).unique():this},n.prototype.not=function(t){return this.filter(function(e){return!n(e).is(t||!0)})},n.prototype.off=function(t){return this.eacharg(t,function(t,e){n(t._e?t._e[e]:[]).each(function(n){t.removeEventListener(e,n)})})},n.prototype.on=function(t,e,r){if("string"==typeof e){var o=e;e=function(t){var e=arguments;n(t.currentTarget).find(o).each(function(n){if(n===t.target||n.contains(t.target)){try{Object.defineProperty(t,"currentTarget",{get:function(){return n}})}catch(n){}r.apply(n,e)}})}}var a=function(t){return e.apply(this,[t].concat(t.detail||[]))};return this.eacharg(t,function(t,e){t.addEventListener(e,a),t._e=t._e||{},t._e[e]=t._e[e]||[],t._e[e].push(a)})},n.prototype.pairs=function(t,e,n,r){if(void 0!==e){var o=t;(t={})[o]=e}return"object"==typeof t?this.each(function(e){for(var n in t)r(e,n,t[n])}):this.length?n(this.first(),t):""},n.prototype.param=function(t){return Object.keys(t).map(function(e){return this.uri(e)+"="+this.uri(t[e])}.bind(this)).join("&")},n.prototype.parent=function(t){return this.map(function(t){return t.parentNode}).filter(t)},n.prototype.prepend=function(t,e){return this.adjacent(t,e,function(t,e){t.insertBefore(e,t.firstChild)})},n.prototype.remove=function(){return this.each(function(t){t.parentNode&&t.parentNode.removeChild(t)})},n.prototype.removeClass=function(){return this.eacharg(arguments,function(t,e){t.classList.remove(e)})},n.prototype.replace=function(t,e){var r=[];return this.adjacent(t,e,function(t,e){r=r.concat(this.slice(e.children)),t.parentNode.replaceChild(e,t)}),n(r)},n.prototype.scroll=function(){return this.first().scrollIntoView({behavior:"smooth"}),this},n.prototype.select=function(t,e){return t=t.replace(/^\s*/,"").replace(/\s*$/,""),/^</.test(t)?n().generate(t):(e||document).querySelectorAll(t)},n.prototype.serialize=function(){var t=this;return this.slice(this.first().elements).reduce(function(e,r){return!r.name||r.disabled||"file"===r.type?e:/(checkbox|radio)/.test(r.type)&&!r.checked?e:"select-multiple"===r.type?(n(r.options).each(function(n){n.selected&&(e+="&"+t.uri(r.name)+"="+t.uri(n.value))}),e):e+"&"+t.uri(r.name)+"="+t.uri(r.value)},"").slice(1)},n.prototype.siblings=function(t){return this.parent().children(t).not(this)},n.prototype.size=function(){return this.first().getBoundingClientRect()},n.prototype.slice=function(t){return t&&0!==t.length&&"string"!=typeof t&&"[object Function]"!==t.toString()?t.length?[].slice.call(t.nodes||t):[t]:[]},n.prototype.str=function(t,e){return function(n){return"function"==typeof n?n.call(this,t,e):n.toString()}},n.prototype.text=function(t){return void 0===t?this.first().textContent||"":this.each(function(e){e.textContent=t})},n.prototype.toggleClass=function(t,e){return!!e===e?this[e?"addClass":"removeClass"](t):this.eacharg(t,function(t,e){t.classList.toggle(e)})},n.prototype.trigger=function(t){var e=this.slice(arguments).slice(1);return this.eacharg(t,function(t,n){var r,o={bubbles:!0,cancelable:!0,detail:e};try{r=new window.CustomEvent(n,o)}catch(t){(r=document.createEvent("CustomEvent")).initCustomEvent(n,!0,!0,e)}t.dispatchEvent(r)})},n.prototype.unique=function(){return n(this.nodes.reduce(function(t,e){return null!=e&&!1!==e&&-1===t.indexOf(e)?t.concat(e):t},[]))},n.prototype.uri=function(t){return encodeURIComponent(t).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")},n.prototype.wrap=function(t){return this.map(function(e){return n(t).each(function(t){(function(t){for(;t.firstElementChild;)t=t.firstElementChild;return n(t)})(t).append(e.cloneNode(!0)),e.parentNode.replaceChild(t,e)})})},"object"==typeof t&&t.exports&&(t.exports=n,t.exports.u=n)},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=Number(e);return n.setDate(n.getDate()+o),n}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t).getTime(),o=Number(e);return new Date(n+o)}},function(t,e,n){var r=n(1),o=n(2);t.exports=function(t){var e=r(t),n=new Date(0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),o(n)}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t).getTime(),o=r(e).getTime();return n<o?-1:n>o?1:0}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,o=r(t),a=o.getDay(),s=(a<n?7:0)+a-n;return o.setDate(o.getDate()-s),o.setHours(0,0,0,0),o}},function(t,e,n){var r=n(3),o=6e4,a=864e5;t.exports=function(t,e){var n=r(t),s=r(e),i=n.getTime()-n.getTimezoneOffset()*o,u=s.getTime()-s.getTimezoneOffset()*o;return Math.round((i-u)/a)}},function(t,e,n){var r=n(0),o=n(16);t.exports=function(t,e){var n=r(t),a=Number(e),s=n.getMonth()+a,i=new Date(0);i.setFullYear(n.getFullYear(),s,1),i.setHours(0,0,0,0);var u=o(i);return n.setMonth(s,Math.min(u,n.getDate())),n}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()-o.getTime()}},function(t,e,n){"use strict";t.exports={IDLE:0,SELECTING_RAILROAD:1,SELECTING_START:2,SELECTING_END:3}},function(t,e,n){"use strict";const r=n(4);t.exports.searchItem=((t,e)=>{const n=r("<span>").addClass("name-primary").text(t),o=r("<span>").addClass("name-secondary").text(e),a=r("<li>").addClass("item-item search-item");return a.append(n).append(o),a}),t.exports.plotItem=((t,e,n="#000000",o=1)=>{const a=r("<button>").addClass("action-delete").text("삭제"),s=r("<button>").addClass("action-color").html(`색 (<var>${n}</var>)`),i=r("<button>").addClass("action-width").html(`두께 (<var>${o}</var>)`),u=r("<div>").addClass("plot-controls");u.append(a).append(s).append(i);const c=r("<span>").addClass("name-primary").text(t),p=r("<span>").addClass("name-secondary").text(e),l=r("<li>").addClass("item-item plot-item");return l.append(c).append(p).append(u),l})},function(t,e){t.exports=function(t){return t instanceof Date}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=e.getFullYear(),o=e.getMonth(),a=new Date(0);return a.setFullYear(n,o+1,0),a.setHours(0,0,0,0),a.getDate()}},function(t,e,n){var r=n(5);t.exports=function(t,e){var n=Number(e);return r(t,7*n)}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t).getTime(),o=r(e).getTime();return n>o?-1:n<o?1:0}},function(t,e,n){var r=n(0),o=n(36),a=n(8);t.exports=function(t,e){var n=r(t),s=r(e),i=a(n,s),u=Math.abs(o(n,s));return n.setMonth(n.getMonth()-i*u),i*(u-(a(n,s)===-i))}},function(t,e,n){var r=n(12);t.exports=function(t,e){var n=r(t,e)/1e3;return n>0?Math.floor(n):Math.ceil(n)}},function(t,e,n){var r=n(86),o=n(87);t.exports={distanceInWords:r(),format:o()}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setHours(23,59,59,999),e}},function(t,e,n){var r=n(0),o=n(2),a=n(7),s=6048e5;t.exports=function(t){var e=r(t),n=o(e).getTime()-a(e).getTime();return Math.round(n/s)+1}},function(t,e,n){var r=n(9);t.exports=function(t,e,n){var o=r(t,n),a=r(e,n);return o.getTime()===a.getTime()}},function(t,e,n){var r,o=function(){var t=String.fromCharCode,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",r={};function o(t,e){if(!r[t]){r[t]={};for(var n=0;n<t.length;n++)r[t][t.charAt(n)]=n}return r[t][e]}var a={compressToBase64:function(t){if(null==t)return"";var n=a._compress(t,6,function(t){return e.charAt(t)});switch(n.length%4){default:case 0:return n;case 1:return n+"===";case 2:return n+"==";case 3:return n+"="}},decompressFromBase64:function(t){return null==t?"":""==t?null:a._decompress(t.length,32,function(n){return o(e,t.charAt(n))})},compressToUTF16:function(e){return null==e?"":a._compress(e,15,function(e){return t(e+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""==t?null:a._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(t){for(var e=a.compress(t),n=new Uint8Array(2*e.length),r=0,o=e.length;r<o;r++){var s=e.charCodeAt(r);n[2*r]=s>>>8,n[2*r+1]=s%256}return n},decompressFromUint8Array:function(e){if(null===e||void 0===e)return a.decompress(e);for(var n=new Array(e.length/2),r=0,o=n.length;r<o;r++)n[r]=256*e[2*r]+e[2*r+1];var s=[];return n.forEach(function(e){s.push(t(e))}),a.decompress(s.join(""))},compressToEncodedURIComponent:function(t){return null==t?"":a._compress(t,6,function(t){return n.charAt(t)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""==t?null:(t=t.replace(/ /g,"+"),a._decompress(t.length,32,function(e){return o(n,t.charAt(e))}))},compress:function(e){return a._compress(e,16,function(e){return t(e)})},_compress:function(t,e,n){if(null==t)return"";var r,o,a,s={},i={},u="",c="",p="",l=2,f=3,h=2,d=[],m=0,v=0;for(a=0;a<t.length;a+=1)if(u=t.charAt(a),Object.prototype.hasOwnProperty.call(s,u)||(s[u]=f++,i[u]=!0),c=p+u,Object.prototype.hasOwnProperty.call(s,c))p=c;else{if(Object.prototype.hasOwnProperty.call(i,p)){if(p.charCodeAt(0)<256){for(r=0;r<h;r++)m<<=1,v==e-1?(v=0,d.push(n(m)),m=0):v++;for(o=p.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&o,v==e-1?(v=0,d.push(n(m)),m=0):v++,o>>=1}else{for(o=1,r=0;r<h;r++)m=m<<1|o,v==e-1?(v=0,d.push(n(m)),m=0):v++,o=0;for(o=p.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&o,v==e-1?(v=0,d.push(n(m)),m=0):v++,o>>=1}0==--l&&(l=Math.pow(2,h),h++),delete i[p]}else for(o=s[p],r=0;r<h;r++)m=m<<1|1&o,v==e-1?(v=0,d.push(n(m)),m=0):v++,o>>=1;0==--l&&(l=Math.pow(2,h),h++),s[c]=f++,p=String(u)}if(""!==p){if(Object.prototype.hasOwnProperty.call(i,p)){if(p.charCodeAt(0)<256){for(r=0;r<h;r++)m<<=1,v==e-1?(v=0,d.push(n(m)),m=0):v++;for(o=p.charCodeAt(0),r=0;r<8;r++)m=m<<1|1&o,v==e-1?(v=0,d.push(n(m)),m=0):v++,o>>=1}else{for(o=1,r=0;r<h;r++)m=m<<1|o,v==e-1?(v=0,d.push(n(m)),m=0):v++,o=0;for(o=p.charCodeAt(0),r=0;r<16;r++)m=m<<1|1&o,v==e-1?(v=0,d.push(n(m)),m=0):v++,o>>=1}0==--l&&(l=Math.pow(2,h),h++),delete i[p]}else for(o=s[p],r=0;r<h;r++)m=m<<1|1&o,v==e-1?(v=0,d.push(n(m)),m=0):v++,o>>=1;0==--l&&(l=Math.pow(2,h),h++)}for(o=2,r=0;r<h;r++)m=m<<1|1&o,v==e-1?(v=0,d.push(n(m)),m=0):v++,o>>=1;for(;;){if(m<<=1,v==e-1){d.push(n(m));break}v++}return d.join("")},decompress:function(t){return null==t?"":""==t?null:a._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(e,n,r){var o,a,s,i,u,c,p,l=[],f=4,h=4,d=3,m="",v=[],y={val:r(0),position:n,index:1};for(o=0;o<3;o+=1)l[o]=o;for(s=0,u=Math.pow(2,2),c=1;c!=u;)i=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(i>0?1:0)*c,c<<=1;switch(s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)i=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(i>0?1:0)*c,c<<=1;p=t(s);break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)i=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(i>0?1:0)*c,c<<=1;p=t(s);break;case 2:return""}for(l[3]=p,a=p,v.push(p);;){if(y.index>e)return"";for(s=0,u=Math.pow(2,d),c=1;c!=u;)i=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(i>0?1:0)*c,c<<=1;switch(p=s){case 0:for(s=0,u=Math.pow(2,8),c=1;c!=u;)i=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(i>0?1:0)*c,c<<=1;l[h++]=t(s),p=h-1,f--;break;case 1:for(s=0,u=Math.pow(2,16),c=1;c!=u;)i=y.val&y.position,y.position>>=1,0==y.position&&(y.position=n,y.val=r(y.index++)),s|=(i>0?1:0)*c,c<<=1;l[h++]=t(s),p=h-1,f--;break;case 2:return v.join("")}if(0==f&&(f=Math.pow(2,d),d++),l[p])m=l[p];else{if(p!==h)return null;m=a+a.charAt(0)}v.push(m),l[h++]=a+m.charAt(0),a=m,0==--f&&(f=Math.pow(2,d),d++)}}};return a}();void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";function r(t,e,n,r){const o=(n-t)*Math.PI/180,a=(r-e)*Math.PI/180,s=Math.sin(o/2)*Math.sin(o/2)+Math.cos(t*Math.PI/180)*Math.cos(n*Math.PI/180)*Math.sin(a/2)*Math.sin(a/2);return 6371e3*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))}t.exports={geo:{length:function(t){if(t.length<2)return 0;let e=0;for(let n=1;n<t.length;n++)e+=r(t[n-1][1],t[n-1][0],t[n][1],t[n][0]);return e},distance:r,compare:function(t,e,n,r){return Math.round(1e5*t)===Math.round(1e5*n)&&Math.round(1e5*e)===Math.round(1e5*r)}},hash32:function(t){let e=5381,n=t.length;for(;n;)e=33*e^t.charCodeAt(--n);return e>>>0}}},function(t,e,n){t.exports={addDays:n(5),addHours:n(28),addISOYears:n(29),addMilliseconds:n(6),addMinutes:n(31),addMonths:n(11),addQuarters:n(32),addSeconds:n(33),addWeeks:n(17),addYears:n(34),areRangesOverlapping:n(74),closestIndexTo:n(75),closestTo:n(76),compareAsc:n(8),compareDesc:n(18),differenceInCalendarDays:n(10),differenceInCalendarISOWeeks:n(77),differenceInCalendarISOYears:n(35),differenceInCalendarMonths:n(36),differenceInCalendarQuarters:n(78),differenceInCalendarWeeks:n(79),differenceInCalendarYears:n(38),differenceInDays:n(39),differenceInHours:n(80),differenceInISOYears:n(81),differenceInMilliseconds:n(12),differenceInMinutes:n(82),differenceInMonths:n(19),differenceInQuarters:n(83),differenceInSeconds:n(20),differenceInWeeks:n(84),differenceInYears:n(85),distanceInWords:n(41),distanceInWordsStrict:n(89),distanceInWordsToNow:n(90),eachDay:n(91),endOfDay:n(22),endOfHour:n(92),endOfISOWeek:n(93),endOfISOYear:n(94),endOfMinute:n(95),endOfMonth:n(43),endOfQuarter:n(96),endOfSecond:n(97),endOfToday:n(98),endOfTomorrow:n(99),endOfWeek:n(42),endOfYear:n(100),endOfYesterday:n(101),format:n(102),getDate:n(103),getDay:n(104),getDayOfYear:n(44),getDaysInMonth:n(16),getDaysInYear:n(105),getHours:n(106),getISODay:n(48),getISOWeek:n(23),getISOWeeksInYear:n(107),getISOYear:n(1),getMilliseconds:n(108),getMinutes:n(109),getMonth:n(110),getOverlappingDaysInRanges:n(111),getQuarter:n(37),getSeconds:n(112),getTime:n(113),getYear:n(114),isAfter:n(115),isBefore:n(116),isDate:n(15),isEqual:n(117),isFirstDayOfMonth:n(118),isFriday:n(119),isFuture:n(120),isLastDayOfMonth:n(121),isLeapYear:n(47),isMonday:n(122),isPast:n(123),isSameDay:n(124),isSameHour:n(49),isSameISOWeek:n(51),isSameISOYear:n(52),isSameMinute:n(53),isSameMonth:n(55),isSameQuarter:n(56),isSameSecond:n(58),isSameWeek:n(24),isSameYear:n(60),isSaturday:n(125),isSunday:n(126),isThisHour:n(127),isThisISOWeek:n(128),isThisISOYear:n(129),isThisMinute:n(130),isThisMonth:n(131),isThisQuarter:n(132),isThisSecond:n(133),isThisWeek:n(134),isThisYear:n(135),isThursday:n(136),isToday:n(137),isTomorrow:n(138),isTuesday:n(139),isValid:n(46),isWednesday:n(140),isWeekend:n(141),isWithinRange:n(142),isYesterday:n(143),lastDayOfISOWeek:n(144),lastDayOfISOYear:n(145),lastDayOfMonth:n(146),lastDayOfQuarter:n(147),lastDayOfWeek:n(61),lastDayOfYear:n(148),max:n(149),min:n(150),parse:n(0),setDate:n(151),setDay:n(152),setDayOfYear:n(153),setHours:n(154),setISODay:n(155),setISOWeek:n(156),setISOYear:n(30),setMilliseconds:n(157),setMinutes:n(158),setMonth:n(62),setQuarter:n(159),setSeconds:n(160),setYear:n(161),startOfDay:n(3),startOfHour:n(50),startOfISOWeek:n(2),startOfISOYear:n(7),startOfMinute:n(54),startOfMonth:n(162),startOfQuarter:n(57),startOfSecond:n(59),startOfToday:n(163),startOfTomorrow:n(164),startOfWeek:n(9),startOfYear:n(45),startOfYesterday:n(165),subDays:n(166),subHours:n(167),subISOYears:n(40),subMilliseconds:n(168),subMinutes:n(169),subMonths:n(170),subQuarters:n(171),subSeconds:n(172),subWeeks:n(173),subYears:n(174)}},function(t,e,n){var r=n(6),o=36e5;t.exports=function(t,e){var n=Number(e);return r(t,n*o)}},function(t,e,n){var r=n(1),o=n(30);t.exports=function(t,e){var n=Number(e);return o(t,r(t)+n)}},function(t,e,n){var r=n(0),o=n(7),a=n(10);t.exports=function(t,e){var n=r(t),s=Number(e),i=a(n,o(n)),u=new Date(0);return u.setFullYear(s,0,4),u.setHours(0,0,0,0),(n=o(u)).setDate(n.getDate()+i),n}},function(t,e,n){var r=n(6),o=6e4;t.exports=function(t,e){var n=Number(e);return r(t,n*o)}},function(t,e,n){var r=n(11);t.exports=function(t,e){var n=Number(e);return r(t,3*n)}},function(t,e,n){var r=n(6);t.exports=function(t,e){var n=Number(e);return r(t,1e3*n)}},function(t,e,n){var r=n(11);t.exports=function(t,e){var n=Number(e);return r(t,12*n)}},function(t,e,n){var r=n(1);t.exports=function(t,e){return r(t)-r(e)}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=r(e);return 12*(n.getFullYear()-o.getFullYear())+(n.getMonth()-o.getMonth())}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return Math.floor(e.getMonth()/3)+1}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=r(e);return n.getFullYear()-o.getFullYear()}},function(t,e,n){var r=n(0),o=n(10),a=n(8);t.exports=function(t,e){var n=r(t),s=r(e),i=a(n,s),u=Math.abs(o(n,s));return n.setDate(n.getDate()-i*u),i*(u-(a(n,s)===-i))}},function(t,e,n){var r=n(29);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(18),o=n(0),a=n(20),s=n(19),i=n(21),u=1440,c=2520,p=43200,l=86400;t.exports=function(t,e,n){var f=n||{},h=r(t,e),d=f.locale,m=i.distanceInWords.localize;d&&d.distanceInWords&&d.distanceInWords.localize&&(m=d.distanceInWords.localize);var v,y,g={addSuffix:Boolean(f.addSuffix),comparison:h};h>0?(v=o(t),y=o(e)):(v=o(e),y=o(t));var x,S=a(y,v),M=y.getTimezoneOffset()-v.getTimezoneOffset(),w=Math.round(S/60)-M;if(w<2)return f.includeSeconds?S<5?m("lessThanXSeconds",5,g):S<10?m("lessThanXSeconds",10,g):S<20?m("lessThanXSeconds",20,g):S<40?m("halfAMinute",null,g):m(S<60?"lessThanXMinutes":"xMinutes",1,g):0===w?m("lessThanXMinutes",1,g):m("xMinutes",w,g);if(w<45)return m("xMinutes",w,g);if(w<90)return m("aboutXHours",1,g);if(w<u)return m("aboutXHours",Math.round(w/60),g);if(w<c)return m("xDays",1,g);if(w<p)return m("xDays",Math.round(w/u),g);if(w<l)return m("aboutXMonths",x=Math.round(w/p),g);if((x=s(y,v))<12)return m("xMonths",Math.round(w/p),g);var b=x%12,T=Math.floor(x/12);return b<3?m("aboutXYears",T,g):b<9?m("overXYears",T,g):m("almostXYears",T+1,g)}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,o=r(t),a=o.getDay(),s=6+(a<n?-7:0)-(a-n);return o.setDate(o.getDate()+s),o.setHours(23,59,59,999),o}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}},function(t,e,n){var r=n(0),o=n(45),a=n(10);t.exports=function(t){var e=r(t);return a(e,o(e))+1}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=new Date(0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}},function(t,e,n){var r=n(15);t.exports=function(t){if(r(t))return!isNaN(t);throw new TypeError(toString.call(t)+" is not an instance of Date")}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t).getFullYear();return e%400==0||e%4==0&&e%100!=0}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t).getDay();return 0===e&&(e=7),e}},function(t,e,n){var r=n(50);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()===o.getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setMinutes(0,0,0),e}},function(t,e,n){var r=n(24);t.exports=function(t,e){return r(t,e,{weekStartsOn:1})}},function(t,e,n){var r=n(7);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()===o.getTime()}},function(t,e,n){var r=n(54);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()===o.getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setSeconds(0,0),e}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=r(e);return n.getFullYear()===o.getFullYear()&&n.getMonth()===o.getMonth()}},function(t,e,n){var r=n(57);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()===o.getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=e.getMonth(),o=n-n%3;return e.setMonth(o,1),e.setHours(0,0,0,0),e}},function(t,e,n){var r=n(59);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()===o.getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setMilliseconds(0),e}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=r(e);return n.getFullYear()===o.getFullYear()}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=e&&Number(e.weekStartsOn)||0,o=r(t),a=o.getDay(),s=6+(a<n?-7:0)-(a-n);return o.setHours(0,0,0,0),o.setDate(o.getDate()+s),o}},function(t,e,n){var r=n(0),o=n(16);t.exports=function(t,e){var n=r(t),a=Number(e),s=n.getFullYear(),i=n.getDate(),u=new Date(0);u.setFullYear(s,a,15),u.setHours(0,0,0,0);var c=o(u);return n.setMonth(a,Math.min(i,c)),n}},function(t,e,n){"use strict";var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var s,i=t[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{!r&&i.return&&i.return()}finally{if(o)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const o=n(25),a=n(4);a.prototype.removeAttr=function(t){this.each(e=>e.removeAttribute(t))};const s=n(64);var i=n(69);const u=i.REV_RAILROAD,c=i.REV_STATION,p=n(13),l=(...t)=>{console.log(`[${(new Date).toLocaleString()}]`,...t)};class f{async start(){a(".loading").addClass("active"),await this.initJRPlotter(),this.initGoogleMaps(),this.initEvents(),this.state=p.IDLE,this.plots=[],a(".loading").removeClass("active")}async initJRPlotter(){const t=JSON.parse(localStorage.getItem("revision"))||{railroad:0,station:0},e=localStorage.getItem("railroad"),n=localStorage.getItem("station");let r,a;if(t.railroad<u||!e){l("railroad cache is outdated, downloading");const t=await fetch("dist/data/railroad.json?r="+u),e=await t.text();r=JSON.parse(e),l("compressing and saving railroad cache");const n=o.compressToUTF16(e);localStorage.setItem("railroad",n)}else{l("railroad cache is up to date, decompressing");const t=o.decompressFromUTF16(e);r=JSON.parse(t)}if(t.station<c||!n){l("station cache is outdated, downloading");const t=await fetch("dist/data/station.json?r="+c),e=await t.text();a=JSON.parse(e),l("compressing and saving station cache, compressing");const n=o.compressToUTF16(e);localStorage.setItem("station",n)}else{l("station cache is up to date, decompressing");const t=o.decompressFromUTF16(n);a=JSON.parse(t)}l("JRP data loaded");const i={railroad:u,station:c};localStorage.setItem("revision",JSON.stringify(i)),l("Initializing JRPlotter"),this.JRP=new s(r,a),l("everything has loaded, ready to go!")}initGoogleMaps(){this.map=new google.maps.Map(a("#google-map").first(),{center:{lat:37,lng:137},zoom:5})}initEvents(){a(".button-hide-hovers").on("click",()=>{a("body").addClass("hovers-hidden")}),a(".button-show-hovers").on("click",()=>{a("body").removeClass("hovers-hidden")}),a(".search-input input").on("input",this.eventSearchInput.bind(this)),a(".state-cancel").on("click",this.resetSearchState.bind(this)),a(".modal .modal-close").on("click",t=>{a(t.target).closest(".modal").removeClass("active")}),a(".button-show-modal-import-jrp").on("click",this.showModalImportJrp.bind(this)),a(".modal-action-import-jrp").on("click",this.eventModalImportJrp.bind(this)),a(".button-show-modal-export-jrp").on("click",this.showModalExportJrp.bind(this)),a(".button-show-modal-export-polyline").on("click",this.showModalExportPolyline.bind(this)),a(".modal-export-polyline input").on("input",this.showModalExportPolyline.bind(this)),a(".button-show-modal-export-kml").on("click",this.showModalExportKml.bind(this))}newGooglePolyline(t,e,n){return new google.maps.Polyline({path:t.map(([t,e])=>({lat:e,lng:t})),strokeColor:e,strokeWeight:n,map:this.map})}newGoogleMarker(t,e){var n=r(t,2);const o=n[0],a=n[1];return new google.maps.Marker({position:{lat:a,lng:o},label:e,map:this.map})}resetSearchState(){a(".search-result").empty(),a(".search-input input").removeAttr("disabled"),a(".search-input input").first().value="",a(".search-state").removeClass("active"),a(".state-current").text(""),a(".state-start").text(""),a(".state-end").text(""),this.state=p.IDLE,this.unsetPreviewRailroads(),this.unsetStateRailroads(),this.unsetPreviewStations(),this.unsetStateStations()}enableSearchState(t){a(".search-state").addClass("active"),a(".state-current").text(t),a(".search-input input").attr("disabled","disabled")}setSearchStateStation(t){this.state===p.SELECTING_START?a(".state-start").text(t):this.state===p.SELECTING_END&&a(".state-end").text(t)}}n(70)(f),n(71)(f),n(72)(f),n(73)(f),n(179);const h=new f;h.start().then(()=>{}).catch(t=>{console.error(t)}),window.app=h},function(t,e,n){"use strict";const r=n(25),o=n(181),a=n(65),s=n(66),i=n(67),u=n(68),c=n(26),p={line:1,series:2},l={line:1,series:2,1:"line",2:"series"},f=18;function h(t,e){for(const n of t){let t=!1,r=n.match(/((?:^|[+\-\|])[^+\-\|]+)/g);for(const n of r){const r=n.replace(/^[+\-\|]/,"");let o=!1;for(const t of e)o=o||t.includes(r);t="+"===n[0]?t&&o:"-"===n[0]?t&&!o:t||o}if(t)return!0}return!1}t.exports=class{constructor(t,e){this.railroads=o.feature(t,t.objects.railroads),this.stations=o.feature(e,e.objects.stations),this.railroadHashes=new Map,this.seriesHashes=new Map,this.hiddenHashes=new Map,this.stationHashes=new Map,this.mapLineStation=new Map,this.mapSeriesStation=new Map,this.mapHiddenStation=new Map;for(let t=0;t<this.railroads.features.length;t++){var n=this.railroads.features[t].properties;const e=n.company,r=n.lineName,o=c.hash32(`${e}ÿ${r}`);this.railroadHashes.has(o)||this.railroadHashes.set(o,{indexes:[],company:e,line:r}),this.railroadHashes.get(o).indexes.push(t)}for(let t=0;t<this.stations.features.length;t++){var r=this.stations.features[t].properties;const e=r.company,n=r.lineName,o=r.groupId,a=r.stationName,s=c.hash32(o);this.stationHashes.has(s)||this.stationHashes.set(s,{index:t,id:o,name:a,company:e,line:n});const i=c.hash32(`${e}ÿ${n}`);this.mapLineStation.has(i)||this.mapLineStation.set(i,[]),this.mapLineStation.get(i).push({index:t,hash:s,id:o,name:a})}for(let t=0;t<s.length;t++){const e=s[t],n=c.hash32(`${e.type}ÿ${e.name}`);this.seriesHashes.set(n,{index:t,type:e.type,name:e.name}),this.mapSeriesStation.set(n,e.stops.map(t=>{const e=this.stationHashes.get(t);return{index:e.index,hash:t,id:e.id,name:e.name}}))}for(let t=0;t<i.length;t++){const e=i[t],n=c.hash32(`${e.type}ÿ${e.name}`);this.hiddenHashes.set(n,{index:t,type:e.type,name:e.name}),this.mapHiddenStation.set(n,e.stations.map(t=>{const e=this.stationHashes.get(t);return{index:e.index,hash:t,id:e.id,name:e.name}}))}}getRailroadFeatures(t){t=parseInt(t);const e=this.railroadHashes.get(t);return!!e&&e.indexes.map(t=>this.railroads.features[t])}getSeriesFeatures(t){t=parseInt(t);const e=this.seriesHashes.get(t);return!!e&&s[e.index].routes.map(([t,e,n])=>({geometry:{type:"LineString",coordinates:null!==t?this.getRoute(t,e,n):[this.getStationFeature(e).geometry.coordinates,this.getStationFeature(n).geometry.coordinates]}}))}getHiddenFeatures(t){t=parseInt(t);const e=this.hiddenHashes.get(t);return!!e&&[{geometry:{type:"LineString",coordinates:i[e.index].coordinates}}]}searchRailroads(t){const e=[],n=Object.keys(a).filter(e=>e.includes(t)),r=[t].concat(n.map(t=>a[t])).filter((t,e,n)=>n.indexOf(t)===e),o={};return this.railroads.features.filter(t=>{var e=t.properties;const n=e.lineName,o=e.company;return h(r,[n,o])}).forEach(t=>{const n=`${t.properties.company}ÿ${t.properties.lineName}`,r=c.hash32(n);r in o||(o[r]=!0,e.push({type:"line",hash:r,company:t.properties.company,line:t.properties.lineName,features:this.getRailroadFeatures(r)}))}),s.filter(t=>h(r,[t.type,t.name,t.company])).forEach(t=>{const n=`${t.type}ÿ${t.name}`,r=c.hash32(n);e.push({type:"series",hash:r,seriesType:t.type,name:t.name,features:this.getSeriesFeatures(r)})}),e.sort((t,e)=>p[t.type]-p[e.type]||t.company&&e.company&&t.company.localeCompare(e.company)||t.line&&e.line&&t.line.localeCompare(e.line)||t.name&&e.name&&t.name.localeCompare(e.name)),e}getStationsFromLine(t){t=parseInt(t);const e=this.mapLineStation.get(t);return!!e&&(e.sort((t,e)=>t.id.localeCompare(e.id)),e)}getStationsFromSeries(t){t=parseInt(t);const e=this.mapSeriesStation.get(t);return e||!1}getStationFeature(t){t=parseInt(t);const e=this.stationHashes.get(t);return!!e&&this.stations.features[e.index]}getRoute(t,e,n){let r;if((r=this.getRailroadFeatures(t))||(r=this.getHiddenFeatures(t)),r||(r=this.getSeriesFeatures(t)),!r)return null;const o=r.map(t=>t.geometry.coordinates),a=this.getStationFeature(e),s=this.getStationFeature(n);if(!a||!s)return null;const i=a.geometry.coordinates,c=s.geometry.coordinates;return u(o,i,c)}decodeJRP1(t){const e=r.decompressFromBase64(t);return JSON.parse(e).map(t=>({type:"line",lineHash:c.hash32(`${t.company}ÿ${t.lineName}`),startHash:c.hash32(t.start),endHash:c.hash32(t.end),color:t.color,width:t.width}))}decodeJRP2(t,e){if(!t.startsWith("JRP2-"))return!1;const n=e(t.slice(5));if(n.length%f!=0)return!1;const r=new ArrayBuffer(n.length),o=new DataView(r);for(let t=0;t<n.length;t++)o.setUint8(t,n.charCodeAt(t));const a=[];for(let t=0;t<n.length;t+=f){const e={type:l[o.getUint8(t+0)],lineHash:o.getUint32(t+1),startHash:o.getUint32(t+5),endHash:o.getUint32(t+9),color:"#"+[o.getUint8(t+13),o.getUint8(t+14),o.getUint8(t+15)].map(t=>t.toString(16).padStart(2,"0")).join(""),width:o.getUint16(t+16)};a.push(e)}return a}encodeJRP2(t,e){const n=new ArrayBuffer(t.length*f),r=new DataView(n);for(let e=0;e<t.length;e++){const n=t[e],o=e*f;r.setUint8(o+0,l[n.type]),r.setUint32(o+1,n.lineHash),r.setUint32(o+5,n.startHash),r.setUint32(o+9,n.endHash);const a=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/,s=n.color.match(a);if(!s)return;r.setUint8(o+13,parseInt(s[1],16)),r.setUint8(o+14,parseInt(s[2],16)),r.setUint8(o+15,parseInt(s[3],16)),r.setUint16(o+16,n.width)}let o="";for(let t=0;t<n.byteLength;t++)o+=String.fromCharCode(r.getUint8(t));return"JRP2-"+e(o)}}},function(t,e,n){"use strict";t.exports={"츄오":"中央","주오":"中央","도자이":"東西","토자이":"東西","난보쿠":"南北","순환":"環状","환상":"環状","공항":"空港","쿠코":"空港","特急":"特別急行","특급":"特急|特別急行","특별급행":"特急|特別急行","침대":"寝台","쾌속":"快速","슈퍼":"スーパー","수퍼":"スーパー","JR 홋카이도":"北海道旅客鉄道（旧国鉄）","JR 동일본":"東日本旅客鉄道（旧国鉄）","JR 히가시니혼":"東日本旅客鉄道（旧国鉄）","JR 도카이":"東海旅客鉄道（旧国鉄）","JR 토카이":"東海旅客鉄道（旧国鉄）","JR 서일본":"西日本旅客鉄道（旧国鉄）","JR 니시니혼":"西日本旅客鉄道（旧国鉄）","JR 시코쿠":"四国旅客鉄道（旧国鉄）","JR 큐슈":"九州旅客鉄道（旧国鉄）","JR 규슈":"九州旅客鉄道（旧国鉄）","토부":"東武","도부":"東武","세이부":"西武","케이세이":"京成","게이세이":"京成","케이오":"京王","게이오":"京王","東急":"東京急行","토큐":"東京急行","도큐":"東京急行","京急":"京浜急行","케이큐":"京浜急行","게이큐":"京浜急行","東京メトロ":"東京地下鉄","도쿄메트로":"東京地下鉄","도쿄 메트로":"東京地下鉄","오다큐":"小田急","相鉄":"相模鉄道","소테츠":"相模鉄道","소테쓰":"相模鉄道","名鉄":"名古屋鉄道","메이테츠":"名鉄","메이테쓰":"名鉄","近鉄":"近畿日本鉄道","킨테츠":"近畿日本鉄道","긴테츠":"近畿日本鉄道","킨테쓰":"近畿日本鉄道","긴테쓰":"近畿日本鉄道","난카이":"南海","케이한":"京阪","게이한":"京阪","한신":"阪神","한큐":"阪急","西鉄":"西日本鉄道","니시테츠":"西日本鉄道","니시테쓰":"西日本鉄道","都営":"東京都","도영":"東京都","도에이":"東京都","大阪メトロ":"大阪市","오사카메트로":"大阪市","오사카 메트로":"大阪市","京都丹後鉄道":"WILLER　TRAINS","北近畿タンゴ鉄道":"WILLER　TRAINS","도카이도 신칸센":"東海道新幹線","토카이도 신칸센":"東海道新幹線","산요 신칸센":"山陽新幹線","도호쿠 신칸센":"東北新幹線","토호쿠 신칸센":"東北新幹線","큐슈 신칸센":"九州新幹線","규슈 신칸센":"九州新幹線","조에츠 신칸센":"上越新幹線","조에쓰 신칸센":"上越新幹線","죠에츠 신칸센":"上越新幹線","야마가타 신칸센":"山形新幹線","아키타 신칸센":"秋田新幹線","호쿠리쿠 신칸센":"北陸新幹線","홋카이도 신칸센":"北海道新幹線","네무로":"根室","무로란":"室蘭","하코다테":"函館","도호쿠":"東北","토호쿠":"東北","도카이도":"東海道","토카이도":"東海道","소부":"総武","신에츠":"信越","신에쓰":"信越","야마노테":"山手","오우":"奥羽","우에츠":"羽越","우에쓰":"羽越","사이쿄":"埼京","쇼난신주쿠":"湘南新宿","케이힌토호쿠":"京浜東北","게이힌토호쿠":"京浜東北","칸사이":"関西","간사이":"関西","타카야마":"高山","다카야마":"高山","호쿠리쿠":"北陸","산요":"山陽","산인":"山陰","비와코":"琵琶湖","세토대교":"瀬戸大橋","세토오하시":"瀬戸大橋","세토오오하시":"瀬戸大橋","요산":"予讃","도산":"土讃","코토쿠":"高徳","고토쿠":"高徳","카고시마":"鹿児島","가고시마":"鹿児島","큐다이":"久大","규다이":"久大","나가사키":"長崎","닛포":"日豊","후쿠호쿠유타카":"福北ゆたか","아사쿠사":"浅草","히비야":"日比谷","긴자":"銀座","마루노우치":"丸ノ内","미타":"三田","유라쿠쵸":"有楽町","유라쿠초":"有楽町","치요다":"千代田","신주쿠":"新宿","한조몬":"半蔵門","오에도":"大江戸","오오에도":"大江戸","후쿠토신":"副都心","御堂筋線":"大阪市+1号線","미도스지":"大阪市+1号線","谷町線":"大阪市+2号線","타니마치":"大阪市+2号線","四つ橋線":"大阪市+3号線","요츠바시":"大阪市+3号線","中央線":"大阪市+4号線","츄오선":"大阪市+4号線","주오선":"大阪市+4号線","千日前線":"大阪市+5号線","센니치마에":"大阪市+5号線","堺筋線":"大阪市+6号線","사카이스지":"大阪市+6号線","長堀鶴見緑地線":"大阪市+7号線","나가호리츠루미료쿠치":"大阪市+7号線","今里筋線":"大阪市+8号線","이마자토스지":"大阪市+8号線","空港線":"福岡市+1号線","공항선":"福岡市+1号線","箱崎線":"福岡市+2号線","하코자키":"福岡市+2号線","七隈線":"福岡市+3号線","나나쿠마":"福岡市+3号線","ブルーライン":"横浜市-4号線","블루라인":"横浜市-4号線","블루 라인":"横浜市-4号線","グリーンライン":"福岡市+4号線","그린라인":"福岡市+4号線","그린 라인":"福岡市+4号線","노조미":"のぞみ","미즈호":"みずほ","하야부사":"はやぶさ","토키":"とき","카가야키":"かがやき","선라이즈":"サンライズ","이즈모":"出雲","세토":"瀬戸","문라이트":"ムーンライト","나가라":"ながら","호쿠토":"北斗","카무이":"カムイ","라일락":"ライラック","소야":"宗谷","사로베츠":"サロベツ","오호츠크":"オホーツク","다이세츠":"大雪","대설":"大雪","오오조라":"おおぞら","토카치":"とかち","스즈란":"すずらん","에어포트":"エアポート","노삿푸":"ノサップ","하나사키":"はなさき","츠가루":"つがる","이나호":"いなほ","시라유키":"しらゆき","닛코":"日光","키누가와":"きぬがわ","쿠사츠":"草津","아카기":"あかぎ","히타치":"ひたち","토키와":"ときわ","나리타 익스프레스":"成田エクスプレス","와카시오":"わかしお","사자나미":"さざなみ","시오사이":"しおさい","아즈사":"あずさ","슈퍼 아즈사":"あずさ","카이지":"かいじ","오도리코":"踊り子","스카이라이너":"スカイライナー","스카이 라이너":"スカイライナー","후지카와":"ふじかわ","이나지":"伊那路","시나노":"しなの","히다":"ひだ","난키":"南紀","시라사기":"しらさぎ","뮤스카이":"ミュースカイ","뮤 스카이":"ミュースカイ","선더버드":"サンダーバード","썬더버드":"サンダーバード","다이나스타":"ダイナスター","다이노스타":"ダイナスター","노토카가리비":"能登かがり火","노토 카가리비":"能登かがり火","비와코 익스프레스":"びわこエクスプレス","하루카":"はるか","쿠로시오":"くろしお","코우노토리":"こうのとり","키노사키":"きのさき","하시다테":"はしだて","마이즈루":"まいづる","하마카제":"はまかぜ","하쿠토":"はくと","이나바":"いなば","야쿠모":"やくも","오키":"おき","마츠카제":"まつかぜ","라피트":"ラピート","마린라이너":"マリンライナー","마린 라이너":"マリンライナー","시오카제":"しおかぜ","이시즈치":"いしづち","난푸":"南風","우즈시오":"うずしお","카모메":"かもめ","미도리":"みどり","소닉":"ソニック"}},function(t,e,n){"use strict";t.exports=[{type:"運転系統",name:"山手線",company:"東日本旅客鉄道（旧国鉄）",routes:[[910822321,318281241,2362399249],[2943346285,3873137215,542591640],[228138242,3623802102,3225212912]],stops:[318281241,2237922586,519103899,1538468764,4114625821,1739299870,20481183,4081209488,2362399249,2508475390,4175331901,2810661628,3172361787,1807699962,3474556473,2109886200,2586709648,3160518289,941180830,1514981023,1243367068,1817175709,240405402,814205595,542591640,879508151,3925988340,2923026674,178732723]},{type:"運転系統",name:"埼京線",company:"東日本旅客鉄道（旧国鉄）",routes:[[2943346285,814205595,3172361787],[2731784302,2875435643,3414853054],[null,3414853054,1020070202],[910822321,1020070202,3420084345],[910822321,3420084345,2906043736]],stops:[814205595,1243367068,1514981023,2586709648,3172361787,3776613176,3937962745,3414853054,2362116412,2910308607,2562939070,3420084345,3072723256,3620915451,3273545914,458628213,111267124,2608243678,2906043736]},{type:"運転系統",name:"湘南新宿ライン",company:"東日本旅客鉄道（旧国鉄）",routes:[[228138242,3604756467,2087403671],[3356532307,2087403671,814205595],[2943346285,814205595,2508475390],[3492135987,2508475390,1166608633],[910822321,1166608633,2906043736]],stops:[2906043736,3210726641,1020070202,3172361787,2586709648,1514981023,1243367068,814205595,2087403671,348024596,136122645,3168257878,2956355927,3766922584,3555012185,3604756467]},{type:"運転系統",name:"京浜東北線",company:"東日本旅客鉄道（旧国鉄）",routes:[[910822321,2906043736,318281241],[228138242,3225212912,3168257878]],stops:[2906043736,3641531867,1065374810,2863365552,3210726641,521447486,868817023,320624828,667985917,1020070202,1367439739,819247544,1166608633,2362399249,4081209488,20481183,1739299870,4114625821,1538468764,519103899,2237922586,318281241,178732723,2923026674,3925988340,879508151,3623802102,1478172857,4222458360,2769677136,2557766737,2467482450,2255580499,3470452564,3168257878]},{type:"運転系統",name:"山形新幹線",company:"東日本旅客鉄道（旧国鉄）",routes:[[1283917775,3939501401,1166786557]],stops:[3939501401,1688652113,449096184,1737582651,4245440764,2536987697,1240499230,318459165,868639099,1665409273,1166786557]},{type:"運転系統",name:"秋田新幹線",company:"東日本旅客鉄道（旧国鉄）",routes:[[3173250003,1919964314,1645916440],[1283917775,2702571896,2359950749]],stops:[1919964314,3873065887,1471487033,972864317,1645916440,2359950749]},{type:"運転系統",name:"琵琶湖線",company:"西日本旅客鉄道（旧国鉄）",routes:[[3567540598,2138167836,4013549465],[228193036,3126843284,2225917911]],stops:[2138167836,4214372123,1638223514,4013549465,3398457239,2824657046,2678592913,2104784272,2376398227,1802598034,2299101085,1725292444,399170548,1763840821,96984310,1461646135,3672078832,741781809,3369892594,439587123,3292587004,362289981,2225917911]},{type:"運転系統",name:"瀬戸大橋線",company:"西日本旅客鉄道（旧国鉄）・四国旅客鉄道（旧国鉄）",routes:[[3337993872,743325785,3790140624],[3703523572,1206522360,707899644],[633008996,3695491420,315709790],[4231993186,26426589,21936574]],stops:[743325785,2661208282,1658519899,1247399900,244703069,2162585566,1159897183,3790140624,1198014651,2121716474,4079173565,707899644,232487391,315709790,1150868916,3294844858,1883977721,2379659192,21936574]},{type:"運転系統",name:"福北ゆたか線",company:"九州旅客鉄道（旧国鉄）",routes:[[2607508661,3107439612,1737216506],[null,1737216506,2036427769],[3329824087,2036427769,392597372],[1036128155,166273592,759909529],[2607508661,3628219070,1202870137]],stops:[3107439612,1723649595,1737216506,239490360,3710550391,1913604534,869480734,600238367,2261535132,1992301213,4142389018,3873146651,1239476120,970242201,2913598742,2644356375,1885947197,392597372,456302713,2804027537,285202448,673455135,2449605790,261286813,2037429020,1172077851,2948228506,759909529,1202870137]},{type:"東海道・山陽新幹線",name:"のぞみ",company:"東海旅客鉄道（旧国鉄）・西日本旅客鉄道（旧国鉄）",routes:[[4011826293,1281713785,3134015326],[3667926940,1287633783,3535619806]],stops:[1281713785,2119249594,3078670331,2433239898,2998978399,3134015326,2986874036,1964815024,3165818965,3400582879,3535619806]},{type:"山陽・九州新幹線",name:"みずほ",company:"西日本旅客鉄道（旧国鉄）・九州旅客鉄道（旧国鉄）",routes:[[3667926940,1287633783,3535619806],[1071490790,3172229471,3769030077]],stops:[1287633783,2986874036,1964815024,3165818965,3400582879,3535619806,4094459993,3769030077]},{type:"東北・北海道新幹線",name:"はやぶさ",company:"東日本旅客鉄道（旧国鉄）・北海道旅客鉄道（旧国鉄）",routes:[[846278968,3282805180,160377468],[1510898630,224057723,1771263678]],stops:[3282805180,1841001087,784785982,1077001757,4131084436,668453055,4210809726,912996541,160377468,224057723]},{type:"上越新幹線",name:"とき",company:"東日本旅客鉄道（旧国鉄）",routes:[[846278968,3282805180,784785982],[1384860350,2143131005,1362663645]],stops:[3282805180,1841001087,784785982,2980666814,161659704,1958607802,3227836724,4187249013,1362663645]},{type:"北陸新幹線",name:"かがやき",company:"東日本旅客鉄道（旧国鉄）・西日本旅客鉄道（旧国鉄）",routes:[[846278968,3282805180,784785982],[1384860350,2143131005,161659704],[1511999921,2997730718,2118744343],[1512023999,2421387960,1680359295]],stops:[3282805180,1841001087,784785982,2310927385,4178370045,1680359295]},{type:"寝台特別急行",name:"サンライズ出雲",company:"東日本旅客鉄道（旧国鉄）・東海旅客鉄道（旧国鉄）・西日本旅客鉄道（旧国鉄）",routes:[[228138242,3225212912,2299314070],[2219478140,141291071,2956911413],[228193036,3126843284,1418603120],[2717558933,3998945598,1337356671],[382442799,67813783,4032633949],[695920472,679815965,863978937]],stops:[3225212912,3168257878,2299314070,2357047674,2185409079,3685535894,3101898456,3865610867,3318533657,4247791807,103313531,1337356671,1065059231,1421397170,2638891935,3952724249,3553569557,3137483134,863978937]},{type:"寝台特別急行",name:"サンライズ瀬戸",company:"東日本旅客鉄道（旧国鉄）・東海旅客鉄道（旧国鉄）・西日本旅客鉄道（旧国鉄）・四国旅客鉄道（旧国鉄）",routes:[[228138242,3225212912,2299314070],[2219478140,141291071,2956911413],[228193036,3126843284,1418603120],[2717558933,3998945598,103313531],[null,103313531,743325785],[3337993872,743325785,3790140624],[3703523572,1206522360,707899644],[633008996,3695491420,315709790],[4231993186,26426589,21936574]],stops:[3225212912,3168257878,2299314070,2357047674,2185409079,3685535894,3101898456,3865610867,3318533657,4247791807,103313531,707899644,315709790,21936574]},{type:"夜行快速",name:"ムーンライトながら",company:"東日本旅客鉄道（旧国鉄）・東海旅客鉄道（旧国鉄）",routes:[[228138242,3225212912,2299314070],[2219478140,141291071,468870110]],stops:[3225212912,3623802102,3168257878,2747724090,2357047674,3685535894,3101898456,520843705,1534660144,2348755933,468870110]},{type:"特別急行",name:"スーパー北斗",company:"北海道旅客鉄道（旧国鉄）",routes:[[3045361225,178389748,3398917910],[3928234613,2793671037,3207582745],[4188800236,681241885,755083896],[3045361225,3701104148,1357426326]],stops:[178389748,653423031,3926331315,1175635196,3547997392,2128157301,3398917910,542821749,2644117086,275046463,3547954747,4114973467,2112964248,2445011070,1357426326]},{type:"特別急行",name:"カムイ・ライラック",company:"北海道旅客鉄道（旧国鉄）",routes:[[3045361225,1357426326,1222548978]],stops:[1357426326,840593595,1484318684,462259672,160064986,2546794228,1222548978]},{type:"特別急行",name:"宗谷",company:"北海道旅客鉄道（旧国鉄）",routes:[[3045361225,1357426326,1222548978],[2116994044,152773017,1866361180]],stops:[1357426326,840593595,1484318684,462259672,160064986,2546794228,1222548978,633343290,134720574,1021716825,3329678267,2653345148,3946299678,1750127871,4232903992,3471984863,1866361180]},{type:"特別急行",name:"サロベツ",company:"北海道旅客鉄道（旧国鉄）",routes:[[2116994044,152773017,1866361180]],stops:[1222548978,633343290,134720574,1021716825,3329678267,2653345148,3946299678,1750127871,4232903992,3471984863,1866361180]},{type:"特別急行",name:"オホーツク",company:"北海道旅客鉄道（旧国鉄）",routes:[[3045361225,1357426326,1222548978],[2116994044,152773017,3101655323],[4226762936,25104828,334521910]],stops:[1357426326,840593595,1484318684,462259672,160064986,2546794228,152773017,3698299800,2882263103,1197644412,175585400,2201734494,1179675482,2156026455,1908477181,556955320,334521910]},{type:"特別急行",name:"大雪",company:"北海道旅客鉄道（旧国鉄）",routes:[[2116994044,152773017,3101655323],[4226762936,25104828,334521910]],stops:[152773017,3698299800,2882263103,1197644412,175585400,2201734494,1179675482,2156026455,1908477181,556955320,334521910]},{type:"特別急行",name:"スーパーおおぞら",company:"北海道旅客鉄道（旧国鉄）",routes:[[3045361225,1357426326,3701104148],[4188800236,755083896,2112964248],[3924197874,598135294,2801252060],[1853248641,1921399453,3833609466]],stops:[1357426326,2445011070,2112964248,3481780669,3419472823,694826206,2899967455,2801252060,1158240670,899340441,3965517461,2299902969,1071112693,2937401567,3833609466]},{type:"特別急行",name:"スーパーとかち",company:"北海道旅客鉄道（旧国鉄）",routes:[[3045361225,1357426326,3701104148],[4188800236,755083896,2112964248],[3924197874,598135294,2801252060],[1853248641,1921399453,3965517461]],stops:[1357426326,2445011070,2112964248,3481780669,3419472823,694826206,2899967455,2801252060,1158240670,899340441,3965517461]},{type:"特別急行",name:"すずらん",company:"北海道旅客鉄道（旧国鉄）",routes:[[3928234613,2730450011,3207582745],[4188800236,681241885,755083896],[3045361225,3701104148,1357426326]],stops:[2730450011,714667352,4076526553,1562254321,275046463,3804861052,3662623037,3547954747,2319164471,4114973467,3207582745,2112964248,1179864601,2445011070,1357426326]},{type:"快速",name:"エアポート",company:"北海道旅客鉄道（旧国鉄）",routes:[[4188800236,3877511608,755083896],[3045361225,3701104148,201932633]],stops:[3877511608,2112964248,1179864601,550538035,256461180,2445011070,755083896,1357426326,2467061008,1801157499,4018055346,803912051,201932633]},{type:"快速",name:"ノサップ",company:"北海道旅客鉄道（旧国鉄）",routes:[[1853248641,3833609466,472519992]],stops:[3833609466,915379257,1645059576,42996543,772685310,853071411,2242599064,2940832025,2875897755,3411716382,472519992]},{type:"快速",name:"はなさき",company:"北海道旅客鉄道（旧国鉄）",routes:[[1853248641,3833609466,472519992]],stops:[3833609466,915379257,853071411,2242599064,2940832025,2875897755,3476642204,4174875165,3411716382,4109940895,4286717072,46427257,472519992]},{type:"特別急行",name:"つがる",company:"東日本旅客鉄道（旧国鉄）",routes:[[1283917775,3257659995,2359950749]],stops:[2359950749,2064138430,3122114811,3918884985,4108256438,1900636241,1402013525,3727517273,2705198320,3949919730,3451297014,3289915608,3257659995]},{type:"特別急行",name:"いなほ",company:"東日本旅客鉄道（旧国鉄）",routes:[[2333750938,702455838,528017983],[3183158688,1045394520,2217933848]],stops:[702455838,2601528123,528017983,2818107903,2333727357,3164923960,3724373406,859071387,1548935806,139128761,3205305781,1243643097,25961948,1320408914,3837540475,2217933848]},{type:"特別急行",name:"しらゆき",company:"東日本旅客鉄道（旧国鉄）・えちごトキめき鉄道",routes:[[2928744060,3470359770,2168351964],[2835558748,2168351964,522602427]],stops:[522602427,1082120633,493210295,325108957,2168351964,1428868186,1474887486,3160925720,3751132445,425978362,985488120,1262086205,3470359770]},{type:"特別急行",name:"日光",company:"東日本旅客鉄道（旧国鉄）・東武鉄道",routes:[[2943346285,2586709648,2508475390],[3492135987,2508475390,1166608633],[910822321,1166608633,194891707],[null,194891707,3819026522],[2469544076,3819026522,696607002]],stops:[2586709648,3172361787,3210726641,2906043736,596702589,1360974109,2957357336,696607002]},{type:"特別急行",name:"きぬがわ",company:"東日本旅客鉄道（旧国鉄）・東武鉄道",routes:[[2943346285,2586709648,2508475390],[3492135987,2508475390,1166608633],[910822321,1166608633,194891707],[null,194891707,3819026522],[2469544076,3819026522,2957357336],[2568559411,1827355379,2663242810]],stops:[2586709648,3172361787,3210726641,2906043736,596702589,1360974109,2957357336,2663242810]},{type:"特別急行",name:"草津",company:"東日本旅客鉄道（旧国鉄）",routes:[[910822321,4114625821,2906043736],[131324449,3574841147,2824118674],[2003025591,2858926362,1181877267],[2736248562,1758499065,3155852762]],stops:[4114625821,1020070202,3210726641,2906043736,780000666,2824118674,2360303646,1181877267,1460707455,3155852762]},{type:"特別急行",name:"あかぎ・スワローあかぎ",company:"東日本旅客鉄道（旧国鉄）",routes:[[910822321,4114625821,2906043736],[2943346285,2586709648,2508475390],[3492135987,2508475390,1166608633],[131324449,3574841147,2824118674],[2003025591,2858926362,2360303646],[3314217261,2114985362,2688785555]],stops:[4114625821,1020070202,3210726641,2586709648,3172361787,2906043736,4134359353,3076218431,3777974652,3635736637,780000666,1339510424,281377950,840887708,2824118674,2360303646,2688785555]},{type:"特別急行",name:"ひたち・ときわ",company:"東日本旅客鉄道（旧国鉄）",routes:[[228138242,3623802102,3225212912],[910822321,318281241,20481183],[null,20481183,1457379679],[2120224991,1457379679,871605752]],stops:[3623802102,3225212912,4114625821,20481183,1835882939,449712668,1147945629,1931694494,3722620952,125886617,2493830676,2974600892,161606974,1952541880,3008430971,297658869,723751604,1778579290,2476812251,3012622430,3572140636,3822697298,3877374523,312095994,871605752]},{type:"特別急行",name:"成田エクスプレス (池袋・大宮)",company:"東日本旅客鉄道（旧国鉄）",routes:[[48338135,1480191806,1109870970],[1375572286,54159282,65028279],[228138242,4279141649,3623802102],[2943346285,814205595,2508475390],[3492135987,2508475390,1166608633],[910822321,1166608633,2906043736]],stops:[1480191806,2561015807,1669380728,1109870970,2867153200,4050561781,65028279,3623802102,1514981023,2586709648,3172361787,2906043736]},{type:"特別急行",name:"成田エクスプレス (高尾・河口湖)",company:"東日本旅客鉄道（旧国鉄）",routes:[[48338135,1480191806,1109870970],[1375572286,54159282,65028279],[228138242,4279141649,3623802102],[2943346285,542591640,2586709648],[null,2586709648,3405162462],[3325678932,3405162462,936447163],[null,936447163,1911864699],[3193311681,1911864699,2896453725],[2182606600,3861624026,2225317720]],stops:[1480191806,2561015807,1669380728,1109870970,2867153200,4050561781,65028279,3623802102,1514981023,2586709648,247469183,2688158654,2291587191,2324308255,936447163,314761498,936447163,3021170866,2896453725,382074713,2225317720]},{type:"特別急行",name:"成田エクスプレス (大船・横須賀)",company:"東日本旅客鉄道（旧国鉄）",routes:[[48338135,1480191806,1109870970],[1375572286,54159282,65028279],[228138242,4279141649,348024596],[228138242,348024596,3604756467],[null,3604756467,3106358077],[1354493429,3106358077,582706235]],stops:[1480191806,2561015807,1669380728,1109870970,2867153200,4050561781,65028279,3623802102,348024596,3168257878,3555012185,3604756467,2172956030,2804163391,253685112,582706235]},{type:"特別急行",name:"わかしお",company:"東日本旅客鉄道（旧国鉄）",routes:[[1244319698,3644080790,1818529073],[563141982,3747440958,1404867639]],stops:[3644080790,2840588085,1818529073,2725381946,2376584565,4147736094,2924845976,3901196949,2878497406,1201418557,2633657915,179359545,1404867639]},{type:"特別急行",name:"さざなみ",company:"東日本旅客鉄道（旧国鉄）",routes:[[1244319698,3644080790,1818529073],[983468397,3936004637,1041599869]],stops:[3644080790,1818529073,2215712664,2913945625,1685155349,1041599869]},{type:"特別急行",name:"しおさい",company:"東日本旅客鉄道（旧国鉄）",routes:[[1375572286,65028279,1786217072]],stops:[65028279,3480183026,2124664852,4050561781,2867153200,54159282,752839933,952125524,2434098902,4225033808,1412039890,1016262877,1786217072]},{type:"特別急行",name:"あずさ",company:"東日本旅客鉄道（旧国鉄）",routes:[[1375572286,4050561781,3020260212],[910822321,318281241,2237922586],[3325678932,1116412735,2144342683],[412159308,1928322808,1129525695],[989640136,3339802329,969715455]],stops:[4050561781,2124664852,3480183026,318281241,3405162462,2688158654,2291587191,2324308255,936447163,1819215102,1732078064,3315481177,3013294939,1363670878,2508193082,556912056,549655421,2990353340,2111621619,257343794,2144342683,1129525695,1088953041,4144364408,1139422874,268940027,969715455]},{type:"特別急行",name:"かいじ",company:"東日本旅客鉄道（旧国鉄）",routes:[[910822321,318281241,2237922586],[3325678932,1116412735,1665865564]],stops:[318281241,3462725429,3405162462,2688158654,2291587191,2324308255,936447163,1819215102,1732078064,3315481177,3013294939,1665865564]},{type:"特別急行",name:"踊り子",company:"東日本旅客鉄道（旧国鉄）・伊豆急行・東海旅客鉄道（旧国鉄）・伊豆箱根鉄道",routes:[[228138242,3225212912,2299314070],[2925990412,428311551,2629545400],[1221223616,2132243294,3584506296],[2219478140,141291071,700809277],[null,700809277,3673593309],[1950945834,3673593309,2579843710]],stops:[3225212912,3623802102,2557766737,3168257878,3604756467,2747724090,3730314513,2299314070,1567009850,2629545400,3916701145,4176361302,2398525567,762210813,3584506296,2299314070,700809277,1775281631,2554852569,1422744021,183188092,2579843710]},{type:"有料特急",name:"スカイライナー",company:"京成電鉄",routes:[[501981910,3111079121,493160920],[889517423,845410259,3079998065]],stops:[3111079121,687016030,3522742196,3079998065]},{type:"特別急行",name:"ふじかわ",company:"東海旅客鉄道（旧国鉄）",routes:[[2219478140,3685535894,2185409079],[1414663220,4015101370,1290389457]],stops:[3685535894,3341338137,2185409079,1483445052,57059103,1119594653,1464399417,2165174845,3144130879,1593457534,3541238745,1137913310,1290389457]},{type:"特別急行",name:"伊那路",company:"東海旅客鉄道（旧国鉄）",routes:[[2970113014,3720343582,2927348440]],stops:[3720343582,2632204825,1552180604,106483383,3107314012,1861614398,1308423547,4099887768,2812170397,1372215032,2927348440]},{type:"特別急行",name:"しなの",company:"東日本旅客鉄道（旧国鉄）・東海旅客鉄道（旧国鉄）",routes:[[621379306,3940540094,1158799993],[412159308,1928322808,1961652061],[2928744060,2781381534,559924378]],stops:[3940540094,3901067005,3731327890,754101787,887858495,2027751993,3256929118,2355331032,1422222937,1158799993,1129525695,1228155313,1260876633,1961652061,559924378]},{type:"特別急行",name:"ひだ",company:"東日本旅客鉄道（旧国鉄）・西日本旅客鉄道（旧国鉄）",routes:[[2219478140,1534660144,2956911413],[228193036,3126843284,3865610867],[636371296,1600405724,2118782456],[3821003152,2058360787,2906687923]],stops:[3865610867,2197344562,2225917911,1461646135,2956911413,468870110,1534660144,1397296475,2348755933,153579867,4218323925,741821695,2614500729,2815331835,2585108597,3346753693,3579594907,1125296537,2976402582,2118782456,2759136215,3318645973,2906687923]},{type:"特別急行",name:"南紀",company:"東日本旅客鉄道（旧国鉄）・伊勢鉄道・西日本旅客鉄道（旧国鉄）",routes:[[1463318868,3498578355,1404513302],[null,1404513302,3181607153],[3961312023,3181607153,1555903379],[802601611,1981011857,1741425082],[718397467,108955540,3947196445]],stops:[3498578355,343102970,1263247632,2125400496,1555903379,3003070869,2187881236,3315360275,4005224694,2983165682,2576218608,1741425082,3947196445]},{type:"特別急行",name:"しらさぎ",company:"東日本旅客鉄道（旧国鉄）・西日本旅客鉄道（旧国鉄）",routes:[[2219478140,1534660144,2956911413],[3567540598,4013549465,3690868120]],stops:[1534660144,1397296475,2348755933,468870110,2956911413,2138167836,767740667,2611027569,2263666480,587525977,2509793746,3846394874,1435861561,252203006,2460849181,3690868120]},{type:"有料特急",name:"ミュースカイ",company:"名古屋鉄道",routes:[[954273755,634388411,2840957727],[3462562908,1408942301,3771058330],[4098873312,3722715419,3729998489]],stops:[634388411,28867803,348042334,4185907856,3774065822,2840957727,3539193340,3562570815,1690772281,558663733,3771058330,3729998489]},{type:"特別急行",name:"サンダーバード",company:"西日本旅客鉄道（旧国鉄）・IRいしかわ鉄道",routes:[[228193036,3865610867,362289981],[4166633296,1164719991,1054707509],[3567540598,566909561,3690868120],[569451904,3690868120,2172880539],[1635196580,2996040799,110449692]],stops:[3865610867,2197344562,2973736528,2225917911,1043838512,2401719120,767740667,2611027569,2263666480,587525977,2509793746,1435861561,252203006,2460849181,3690868120,2172880539,108918845,1549753590,110449692]},{type:"特別急行",name:"ダイナスター",company:"西日本旅客鉄道（旧国鉄）",routes:[[3567540598,3690868120,587525977]],stops:[587525977,2509793746,1435861561,252203006,3690868120]},{type:"特別急行",name:"能登かがり火",company:"西日本旅客鉄道（旧国鉄）・IRいしかわ鉄道",routes:[[569451904,3690868120,2172880539],[1635196580,2996040799,110449692]],stops:[3690868120,2172880539,774583643,1334093401,108918845,2182428985,1549753590,110449692]},{type:"特別急行",name:"びわこエクスプレス",company:"西日本旅客鉄道（旧国鉄）",routes:[[228193036,3126843284,3865610867]],stops:[3126843284,3398457239,2299101085,399170548,1763840821,1461646135,3369892594,3292587004,362289981,2225917911,2197344562,3865610867]},{type:"特別急行",name:"はるか",company:"西日本旅客鉄道（旧国鉄）",routes:[[228193036,3126843284,3865610867],[null,3865610867,618317021],[2654504338,618317021,2285032957],[2654504338,2285032957,3761003832],[null,3761003832,2363795708],[2633571807,2363795708,4064958073],[1121458353,3775275229,3473088991]],stops:[3126843284,3398457239,2299101085,399170548,1763840821,1461646135,3369892594,3292587004,362289981,2225917911,2973736528,2197344562,3761003832,2056206932,4064958073,3473088991]},{type:"特別急行",name:"くろしお",company:"西日本旅客鉄道（旧国鉄）",routes:[[228193036,2225917911,3865610867],[null,3865610867,618317021],[2654504338,618317021,1372408664],[2654504338,1372408664,3761003832],[null,3761003832,2363795708],[2633571807,2363795708,3798119323],[718397467,1016863607,108955540]],stops:[2225917911,2197344562,1372408664,3761003832,2056206932,4064958073,1037008438,3798119323,4077787763,3005061015,3307255701,826201874,3847375161,20556658,322742896,4250816080,977907796,3445170608,1101484338,2123543350,3947196445,108955540]},{type:"特別急行",name:"こうのとり",company:"西日本旅客鉄道（旧国鉄）・WILLER　TRAINS",routes:[[228193036,2197344562,1914321393],[256031490,145200982,1906078836],[695920472,1337590878,573241360],[null,1906078836,43369488],[298651899,43369488,3258648052],[3147554513,1589820021,261069498]],stops:[2197344562,3865610867,1914321393,3612426079,1712495286,148321397,690436274,1752971824,338784276,4185501201,3611692560,295689746,1906078836,4028613810,4111029424,827288945,2764186239,573241360,3044118806,3258648052,261069498]},{type:"特別急行",name:"きのさき",company:"西日本旅客鉄道（旧国鉄）",routes:[[695920472,3848776084,573241360]],stops:[3848776084,2743494673,676808373,906194546,966414588,3612438481,1337590878,4028613810,4111029424,827288945,2764186239,573241360]},{type:"特別急行",name:"はしだて",company:"西日本旅客鉄道（旧国鉄）・WILLER　TRAINS",routes:[[695920472,3848776084,1337590878],[null,1337590878,43369488],[298651899,43369488,3258648052],[3147554513,1589820021,575059802]],stops:[3848776084,2743494673,676808373,906194546,3612438481,1337590878,3044118806,3258648052,261069498,1841573715,1976610642,205258961,340304336,2445667415,944398036,575059802]},{type:"特別急行",name:"まいづる",company:"西日本旅客鉄道（旧国鉄）",routes:[[695920472,3848776084,3612438481],[77089555,920533949,4033494010]],stops:[3848776084,2743494673,676808373,906194546,966414588,3612438481,4193442233,4033494010]},{type:"特別急行",name:"はまかぜ",company:"西日本旅客鉄道（旧国鉄）",routes:[[228193036,3865610867,1418603120],[2717558933,3998945598,4247791807],[null,4247791807,4253636055],[3173578610,4253636055,77066128],[695920472,4028613810,1985847160]],stops:[3865610867,3318533657,1418603120,1760419103,4247791807,3119043443,2620420727,3682947829,650874769,77066128,4111029424,827288945,2764186239,573241360,2449094931,3766368918,1696240945,2930284085,1985847160]},{type:"特別急行",name:"スーパーはくと",company:"西日本旅客鉄道（旧国鉄）・智頭急行",routes:[[228193036,2225917911,1418603120],[2717558933,3998945598,724299508],[881472425,2353268027,1425237663],[2504485079,179719701,2755734069],[695920472,1985847160,2273801051]],stops:[2225917911,2197344562,3865610867,3318533657,1760419103,4247791807,724299508,2957361727,102418739,1425237663,2532944112,2755734069,2273801051]},{type:"特別急行",name:"スーパーいなば",company:"西日本旅客鉄道（旧国鉄）・智頭急行",routes:[[2717558933,103313531,724299508],[881472425,2353268027,1425237663],[2504485079,179719701,2755734069]],stops:[103313531,724299508,2957361727,102418739,1425237663,2532944112,2755734069]},{type:"特別急行",name:"やくも",company:"西日本旅客鉄道（旧国鉄）",routes:[[2717558933,103313531,1337356671],[382442799,67813783,4032633949],[695920472,679815965,863978937]],stops:[103313531,1337356671,48451602,1065059231,1421397170,3035388501,3016026320,4032633949,2638891935,3952724249,3553569557,1178398716,3137483134,863978937]},{type:"特別急行",name:"スーパーおき",company:"西日本旅客鉄道（旧国鉄）",routes:[[695920472,1985847160,1244034001],[2534626827,1516086611,3063621656]],stops:[1985847160,1276555603,2273801051,2638891935,3952724249,3553569557,1178398716,3137483134,863978937,3356225175,2394394653,870634294,2671444595,4203771068,2266093013,1244034001,3932573912,3850158298,1935771953,3687998525,729549969,229116062,3063621656]},{type:"特別急行",name:"スーパーまつかぜ",company:"西日本旅客鉄道（旧国鉄）",routes:[[695920472,1985847160,1244034001]],stops:[1985847160,1276555603,2273801051,4032633949,2638891935,3952724249,3553569557,1178398716,3137483134,863978937,2115424122,3356225175,2394394653,870634294,2859238674,2671444595,4203771068,2266093013,1244034001]},{type:"有料特急",name:"ラピート",company:"南海電気鉄道",routes:[[3282245463,1236888564,1953892116],[2250351118,3511915283,1875608977]],stops:[1236888564,3633544182,1319299824,3177999958,4042521201,1953892116,3594419216,1875608977]},{type:"快速",name:"マリンライナー",company:"西日本旅客鉄道（旧国鉄）・四国旅客鉄道（旧国鉄）",routes:[[3337993872,743325785,3790140624],[3703523572,1206522360,707899644],[633008996,3695491420,315709790],[4231993186,26426589,21936574]],stops:[743325785,2661208282,1658519899,1247399900,2162585566,3790140624,1198014651,2121716474,4079173565,707899644,315709790,1150868916,3294844858,1883977721,2379659192,21936574]},{type:"特別急行",name:"しおかぜ",company:"西日本旅客鉄道（旧国鉄）・四国旅客鉄道（旧国鉄）",routes:[[3337993872,743325785,3790140624],[3703523572,1206522360,707899644],[633008996,3695491420,232487391],[4231993186,1616565724,385149008]],stops:[743325785,707899644,232487391,941620703,3299334873,1509692378,3660683732,279290492,1626623803,3552198776,1198974365,3345576731,3706925590,545696123,1961053275,385149008]},{type:"特別急行",name:"いしづち",company:"四国旅客鉄道（旧国鉄）",routes:[[4231993186,21936574,385149008]],stops:[21936574,315709790,232487391,941620703,3299334873,1509692378,3660683732,279290492,1626623803,3552198776,1198974365,3345576731,3706925590,545696123,1961053275,385149008]},{type:"特別急行",name:"南風",company:"西日本旅客鉄道（旧国鉄）・四国旅客鉄道（旧国鉄）・",routes:[[3337993872,743325785,3790140624],[3703523572,1206522360,707899644],[633008996,3695491420,232487391],[4231993186,1616565724,3299334873],[1607034485,3839344799,3531384793],[2154043579,3885839357,2313545944],[3452189923,2222279772,3385104213]],stops:[743325785,707899644,232487391,941620703,3299334873,3684499997,3819982618,1920019902,2911069305,2511952221,393959130,261102933,1738529721,2070508922,2940341108,563810075,3610624914,657593593,2046489983,4018650812,3531384793,1761063929,266471775,2313545944,1727530331,3385104213]},{type:"特別急行",name:"うずしお",company:"西日本旅客鉄道（旧国鉄）・四国旅客鉄道（旧国鉄）",routes:[[3337993872,743325785,3790140624],[3703523572,1206522360,707899644],[633008996,3695491420,232487391],[4231993186,1616565724,21936574],[375024386,3433773272,3895375482]],stops:[743325785,707899644,232487391,21936574,2851919709,3767113823,3849133368,565392889,3350510652,981964287,1598284080,2609510897,228122905,2981392414,4107689884,3895375482]},{type:"特別急行",name:"かもめ",company:"九州旅客鉄道（旧国鉄）",routes:[[2607508661,1506476953,1817898963],[849479797,3030353716,3877232720]],stops:[3628219070,1202870137,1898095704,1817898963,944500599,1529569277,4173273879,3420457234,769198015,1978675539,3877232720]},{type:"特別急行",name:"みどり",company:"九州旅客鉄道（旧国鉄）",routes:[[2607508661,1506476953,1817898963],[849479797,3030353716,4173273879],[1572569719,2218241246,2163777466]],stops:[3628219070,1202870137,1898095704,1817898963,944500599,2008294704,1529569277,4173273879,1196182234,4262359254,2319147647,2163777466]},{type:"特別急行",name:"ソニック",company:"九州旅客鉄道（旧国鉄）",routes:[[2607508661,1202870137,2027256667],[219642915,4223802392,2391789755]],stops:[1202870137,3628219070,2224929149,4221855007,2528535965,9710876,1737216506,3107439612,2759275518,2574608598,2027256667,3280671775,896430584,809984638,1770263729,2108132447,3737447261,136059322,3065715071,400062589,615027741,1883880734,1325634585,1737802907,1269014589,2851476222,2391789755]}]},function(t,e,n){"use strict";t.exports=[{type:"線路",name:"大崎支線",coordinates:[[139.72161,35.6017],[139.7220784,35.6027252],[139.7226202,35.6039464],[139.723044,35.604882],[139.7232586,35.6053508],[139.7235053,35.6058459],[139.7237333,35.6062798],[139.7239908,35.6067487],[139.7242188,35.6071107],[139.724605,35.6076886],[139.7250154,35.6082294],[139.7255921,35.6089032],[139.7258348,35.6091376],[139.7261433,35.6094549],[139.7264222,35.609721],[139.7267159,35.6099336],[139.7270713,35.6101484],[139.7273811,35.6102879],[139.7278398,35.6104449],[139.7280664,35.6105125],[139.728623,35.6106325],[139.7291031,35.6107459],[139.7293673,35.6108113],[139.7296811,35.6109181],[139.7300365,35.6110751],[139.7305005,35.6113433],[139.7309672,35.6117075],[139.7313025,35.6120411],[139.7315654,35.6124271],[139.7317934,35.6128174],[139.7319543,35.6132186],[139.7320455,35.6134912],[139.732134,35.6139338],[139.7321313,35.6143612],[139.7320213,35.6148148],[139.7317746,35.6152814],[139.7313374,35.615881],[139.7309082,35.6164523],[139.7302725,35.6172896],[139.7298541,35.6178369],[139.7294732,35.6183427],[139.72824,35.61995]],stations:[2087403671,814205595]},{type:"線路",name:"中里トンネル",coordinates:[[139.74805,35.73686],[139.7493413,35.7374001],[139.7509077,35.7381708],[139.7519162,35.7386563],[139.752391,35.7388588],[139.7530589,35.7391266],[139.753724,35.7393835],[139.7541291,35.7396186],[139.7544938,35.7399212],[139.7548345,35.7403915],[139.7549498,35.7408269],[139.7550142,35.7413755],[139.7549337,35.7418109],[139.7547272,35.7422768],[139.7545394,35.7425446],[139.75415,35.74282],[139.75067,35.7445],[139.74934,35.74526],[139.74865,35.74574],[139.7484944,35.7458171],[139.7481504,35.7459864],[139.7476321,35.7462313],[139.74711,35.74645],[139.74592,35.74708]],stations:[2508475390,1166608633]}]},function(t,e,n){"use strict";var r=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],r=!0,o=!1,a=void 0;try{for(var s,i=t[Symbol.iterator]();!(r=(s=i.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{!r&&i.return&&i.return()}finally{if(o)throw a}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();const o=n(26),a=-1,s=0,i=1,u=2,c=t=>[t[1],t[0]];function p(t,e){for(let n=0;n<t.length;n++){const r=t[n];for(let t=0;t<r.length;t++)if(o.geo.compare(...r[t],...e))return[n,t,!1]}for(let n=0;n<t.length;n++){const r=t[n];for(let t=0;t<r.length-1;t++){const a=o.geo.distance(...r[t],...e),s=o.geo.distance(...e,...r[t+1]),i=o.geo.distance(...r[t],...r[t+1]);if(Math.round(a+s)===Math.round(i))return[n,t,t+1]}}return!1}t.exports=function(t,e,n){e=c(e),n=c(n);const l=[],f={};for(let e=0,n=t.length;e<n;e++){const n=t[e].slice().map(c);l.push(n),f[e]={}}const h=l.length;let d=!1,m=p(l,e);if(!1===m)return!1;!1!==m[2]&&(d=!0,l[m[0]].splice(m[1],0,e));let v=p(l,n);if(!1===v)return!1;!1!==v[2]&&(d=!0,l[v[0]].splice(v[1],0,n)),d&&(m=p(l,e),v=p(l,n));for(let t=0;t<h;t++)for(let e=0;e<h;e++)for(let n of[0,l[t].length-1])for(let r=0;r<l[e].length;r++)t===e&&n===r||!o.geo.compare(...l[t][n],...l[e][r])||(f[t][n]=[e,r],f[e][r]=[t,n]);const y=function t(e,n,o,c,p=s,l=[]){const f=t.bind(null,e,n);const h=([t,e])=>l.includes(`${t}/${e}`);const d=[];var m=r(o,2);const v=m[0],y=m[1];var g=r(c,2);const x=g[0],S=g[1];v===x&&d.push([[v,y,S]]);l=[...l,`${v}/${y}`];let M=Object.keys(n[v]);M=M.map(t=>parseInt(t));M.sort((t,e)=>t-e);let w=[],b=!1,T=[];for(let t=0;t<M.length;t++){const e=M[t];e<y?w.push(e):y===e?b=n[v][e]:y<e&&T.push(e)}let D=!1,I=!1;w.length&&(D=Math.max(...w));T.length&&(I=Math.min(...T));const E=[v,D];if(!1!==D&&p!==i&&!h(E)){const t=f(E,c,a,l).map(t=>[[v,y,D],...t]);d.push(...t)}if(!1!==b&&!h(b)){const t=f(b,c,u,l);d.push(...t)}const O=[v,I];if(!1!==I&&p!==a&&!h(O)){const t=f(O,c,i,l).map(t=>[[v,y,I],...t]);d.push(...t)}return d}(l,f,m,v).map(t=>{const e=[].concat(...t.map(t=>{var e=r(t,3);e[0];let n=e[1],o=e[2];return n<o?l[t[0]].slice(n,o+1):l[t[0]].slice(o,n+1).reverse()}));return{lineString:e,candidate:t,segments:t.length,length:o.geo.length(e)}});return y.sort((t,e)=>t.length-e.length||t.segments-e.segments||t.lineString.length-e.lineString.length),y[0].lineString.map(c)}},function(t,e,n){"use strict";t.exports.REV_RAILROAD=1,t.exports.REV_STATION=4},function(t,e,n){"use strict";const r=n(4),o=n(13),a=n(14);t.exports=function(t){t.prototype.eventSearchInput=function(t){const e=t.target.value.trim();if(""===e)return r(".search-result").empty(),void(this.state=o.IDLE);this.state=o.SELECTING_RAILROAD,this.displayRailroadResults(e)},t.prototype.eventRailroadMouseEnter=function(t){const e=r(t.target),n=e.data("type"),o=parseInt(e.data("hash"));let a;"line"===n?a=this.JRP.getRailroadFeatures(o):"series"===n&&(a=this.JRP.getSeriesFeatures(o)),this.setPreviewRailroads(a)},t.prototype.eventRailroadMouseLeave=function(t){this.unsetPreviewRailroads()},t.prototype.eventRailroadClick=function(t){const e=r(t.target).closest(".search-item"),n=e.data("type"),a=parseInt(e.data("hash"));this.promotePreviewRailroadsToState(),this.state=o.SELECTING_START,this.stateRailroadType=n,this.stateRailroadHash=a,this.enableSearchState(e.find(".name-primary").text()),this.displayStationResults(n,a)},t.prototype.displayRailroadResults=function(t){r(".search-result").empty(),this.JRP.searchRailroads(t).forEach(t=>{let e;"line"===t.type?(e=a.searchItem(t.line,t.company)).data("hash",t.hash):"series"===t.type&&(e=a.searchItem(t.name,t.seriesType)).data("hash",t.hash),e.data("type",t.type),r(".search-result").append(e)}),r(".search-result .search-item").on("mouseenter",this.eventRailroadMouseEnter.bind(this)).on("mouseleave",this.eventRailroadMouseLeave.bind(this)).on("click",this.eventRailroadClick.bind(this))},t.prototype.setPreviewRailroads=function(t){this.unsetPreviewRailroads(),this.previewRailroads=t,this.previewPolylines=this.previewRailroads.map(t=>this.newGooglePolyline(t.geometry.coordinates,"#ff0000",1))},t.prototype.unsetPreviewRailroads=function(){if(delete this.previewRailroads,this.previewPolylines){for(let t=0,e=this.previewPolylines.length;t<e;t++)this.previewPolylines[t].setMap(null),delete this.previewPolylines[t];this.previewPolylines=[]}},t.prototype.promotePreviewRailroadsToState=function(){this.stateRailroads=this.previewRailroads,this.statePolylines=this.previewPolylines,this.previewRailroads=[],this.previewPolylines=[]},t.prototype.unsetStateRailroads=function(){if(delete this.stateRailroads,delete this.stateRailroadType,delete this.stateRailroadHash,this.statePolylines){for(let t=0,e=this.statePolylines.length;t<e;t++)this.statePolylines[t].setMap(null),delete this.statePolylines[t];this.statePolylines=[]}}}},function(t,e,n){"use strict";const r=n(4),o=n(13),a=n(14);t.exports=function(t){t.prototype.eventStationMouseEnter=function(t){const e=r(t.target),n=parseInt(e.data("hash")),o=this.JRP.getStationFeature(n);this.setSearchStateStation(e.find(".name-primary").text()),this.setPreviewStation(o)},t.prototype.eventStationMouseLeave=function(t){this.unsetPreviewStation()},t.prototype.eventStationClick=function(t){const e=r(t.target).closest(".search-item"),n=parseInt(e.data("hash"));if(this.promotePreviewStationsToState(),this.state===o.SELECTING_START)this.state=o.SELECTING_END,this.stateStationStartHash=n;else if(this.state===o.SELECTING_END){const t=this.stateRailroadType,e=this.stateRailroadHash,r=this.stateStationStartHash,o=n;this.addPlotItem(t,e,r,o),this.resetSearchState()}},t.prototype.displayStationResults=function(t,e){r(".search-result").empty();let n=[];"line"===t?n=this.JRP.getStationsFromLine(e):"series"===t&&(n=this.JRP.getStationsFromSeries(e)),n.forEach(t=>{const e=a.searchItem(t.name,t.id);e.data("hash",t.hash),r(".search-result").append(e)}),r(".search-result .search-item").on("mouseenter",this.eventStationMouseEnter.bind(this)).on("mouseleave",this.eventStationMouseLeave.bind(this)).on("click",this.eventStationClick.bind(this))},t.prototype.setPreviewStation=function(t){if(this.unsetPreviewStation(),this.state===o.SELECTING_START){this.previewStationStart=t;const e=this.newGoogleMarker(t.geometry.coordinates,"始");this.previewMarkerStart=e}else if(this.state===o.SELECTING_END){this.previewStationEnd=t;const e=this.newGoogleMarker(t.geometry.coordinates,"終");this.previewMarkerEnd=e}},t.prototype.unsetPreviewStation=function(){this.state===o.SELECTING_START?(delete this.previewStationStart,this.previewMarkerStart&&this.previewMarkerStart.setMap(null),delete this.previewMarkerStart):this.state===o.SELECTING_END&&(delete this.previewStationEnd,this.previewMarkerEnd&&this.previewMarkerEnd.setMap(null),delete this.previewMarkerEnd)},t.prototype.unsetPreviewStations=function(){delete this.previewStationStart,delete this.previewStationEnd,this.previewMarkerStart&&this.previewMarkerStart.setMap(null),this.previewMarkerEnd&&this.previewMarkerEnd.setMap(null),delete this.previewMarkerStart,delete this.previewMarkerEnd},t.prototype.promotePreviewStationsToState=function(){this.state===o.SELECTING_START?(this.stateStationStart=this.previewStationStart,this.stateMarkerStart=this.previewMarkerStart,delete this.previewStationStart,delete this.previewMarkerStart):this.state===o.SELECTING_END&&(this.stateStationEnd=this.previewStationEnd,this.stateMarkerEnd=this.previewMarkerEnd,delete this.previewStationEnd,delete this.previewMarkerEnd)},t.prototype.unsetStateStations=function(){delete this.stateStationStart,delete this.stateStationStartHash,delete this.stateStationEnd,delete this.stateStationEndHash,this.stateMarkerStart&&this.stateMarkerStart.setMap(null),this.stateMarkerEnd&&this.stateMarkerEnd.setMap(null),delete this.stateMarkerStart,delete this.stateMarkerEnd}}},function(t,e,n){"use strict";const r=n(4),o=n(14);t.exports=function(t){t.prototype.eventPlotDelete=function(t){const e=r(t.target).closest(".plot-item"),n=parseInt(e.data("index"),10);this.deletePlotItem(n)},t.prototype.eventPlotChangeColor=function(t){const e=r(t.target).closest(".plot-item"),n=parseInt(e.data("index"),10),o=prompt("새로운 색상 (#rrggbb 형태)").trim();o&&(/^#[0-9a-f]{6}$/i.test(o)?this.changePlotColor(n,o):/^[0-9a-f]{6}$/i.test(o)&&this.changePlotColor(n,"#"+o))},t.prototype.eventPlotChangeWidth=function(t){const e=r(t.target).closest(".plot-item"),n=parseInt(e.data("index"),10),o=parseInt(prompt("새로운 너비 (숫자)").trim());o&&(Number.isNaN(o)||o<0||o>65535||this.changePlotWidth(n,o))},t.prototype.getPlotItem=function(t){return r(`.plot-list .plot-item[data-index='${t}']`)},t.prototype.addPlotItem=function(t,e,n,a,s="#000000",i=1){const u=this.JRP.getRoute(e,n,a);if(!1===u)return void alert("Unable to find a route");let c;if("line"===t){c=this.JRP.getRailroadFeatures(e)[0].properties.lineName}else if("series"===t){c=this.JRP.seriesHashes.get(e).name}const p=this.JRP.getStationFeature(n).properties.stationName,l=this.JRP.getStationFeature(a).properties.stationName,f=this.plots.length,h={lineString:u,properties:{type:t,lineName:c,lineHash:e,startName:p,startHash:n,endName:l,endHash:a,color:s,width:i},polyline:this.newGooglePolyline(u,s,i)};this.plots.push(h);const d=o.plotItem(c,`${p} → ${l}`,s,i);return d.data("index",f),d.find(".action-delete").on("click",this.eventPlotDelete.bind(this)),d.find(".action-color").on("click",this.eventPlotChangeColor.bind(this)),d.find(".action-width").on("click",this.eventPlotChangeWidth.bind(this)),r(".plot-list").append(d),f},t.prototype.deletePlotItem=function(t){this.getPlotItem(t).remove();for(let e=t+1;e<this.plots.length;e++)this.getPlotItem(e).data("index",e-1);this.plots[t].polyline.setMap(null),this.plots.splice(t,1)},t.prototype.changePlotColor=function(t,e){this.plots[t].polyline.set("strokeColor",e),this.plots[t].properties.color=e,this.getPlotItem(t).find(".action-color var").text(e)},t.prototype.changePlotWidth=function(t,e){this.plots[t].polyline.set("strokeWeight",e),this.plots[t].properties.width=e,this.getPlotItem(t).find(".action-width var").text(e)}}},function(t,e,n){"use strict";const r=n(4);const o=n(27).format,a=n(175),s=n(178);t.exports=function(t){t.prototype.showModalImportJrp=function(){r(".modal-import-jrp").addClass("active");const t=r(".modal-import-jrp textarea").first();t.value="",t.focus()},t.prototype.eventModalImportJrp=function(t){const e=r(".modal-import-jrp textarea").first().value.trim();if(""===e)return;let n;try{if(!(n=e.startsWith("JRP2-")?this.JRP.decodeJRP2(e,window.atob):this.JRP.decodeJRP1(e)))throw new Error}catch(t){return void alert("올바르지 않은 데이터입니다.")}n.forEach(t=>{const e=t.type,n=t.lineHash,r=t.startHash,o=t.endHash,a=t.color,s=t.width;this.addPlotItem(e,n,r,o,a,s)}),r(t.target).closest(".modal").removeClass("active")},t.prototype.showModalExportJrp=function(){const t=this.plots.map(t=>({type:t.properties.type,lineHash:t.properties.lineHash,startHash:t.properties.startHash,endHash:t.properties.endHash,color:t.properties.color,width:t.properties.width})),e=this.JRP.encodeJRP2(t,window.btoa);r(".modal-export-jrp").addClass("active");const n=r(".modal-export-jrp textarea").first();n.value=e,n.select()},t.prototype.showModalExportPolyline=function(){const t=[];this.plots.forEach(e=>{const n=e.properties,r=e.polyline.getPath();t.push(`${n.lineName} - ${n.startName} -> ${n.endName}`),t.push(google.maps.geometry.encoding.encodePath(r))});let e=t.join("\n");r(".modal-export-polyline [name=double-backslash]").first().checked&&(e=e.replace(/\\/g,"\\\\")),r(".modal-export-polyline").addClass("active");const n=r(".modal-export-polyline textarea").first();n.value=e,n.select()},t.prototype.showModalExportKml=function(){const t=new s;this.plots.forEach(e=>{const n=e.properties,r=`${n.startName} → ${n.endName}`,o=n.lineName,a=e.lineString;t.addLineString(r,o,a,n.color,n.width)});const e=t.build(),n=o(new Date,"YYYY.MM.DD.HH.mm.ss"),r=new Blob([e],{type:s.MIME}),i=`Japan Railroad Plotter (${n}).kml`;a.saveAs(r,i)}}},function(t,e,n){var r=n(0);t.exports=function(t,e,n,o){var a=r(t).getTime(),s=r(e).getTime(),i=r(n).getTime(),u=r(o).getTime();if(a>s||i>u)throw new Error("The start of the range cannot be after the end of the range");return a<u&&i<s}},function(t,e,n){var r=n(0);t.exports=function(t,e){if(!(e instanceof Array))throw new TypeError(toString.call(e)+" is not an instance of Array");var n,o,a=r(t).getTime();return e.forEach(function(t,e){var s=r(t),i=Math.abs(a-s.getTime());(void 0===n||i<o)&&(n=e,o=i)}),n}},function(t,e,n){var r=n(0);t.exports=function(t,e){if(!(e instanceof Array))throw new TypeError(toString.call(e)+" is not an instance of Array");var n,o,a=r(t).getTime();return e.forEach(function(t){var e=r(t),s=Math.abs(a-e.getTime());(void 0===n||s<o)&&(n=e,o=s)}),n}},function(t,e,n){var r=n(2),o=6e4,a=6048e5;t.exports=function(t,e){var n=r(t),s=r(e),i=n.getTime()-n.getTimezoneOffset()*o,u=s.getTime()-s.getTimezoneOffset()*o;return Math.round((i-u)/a)}},function(t,e,n){var r=n(37),o=n(0);t.exports=function(t,e){var n=o(t),a=o(e);return 4*(n.getFullYear()-a.getFullYear())+(r(n)-r(a))}},function(t,e,n){var r=n(9),o=6e4,a=6048e5;t.exports=function(t,e,n){var s=r(t,n),i=r(e,n),u=s.getTime()-s.getTimezoneOffset()*o,c=i.getTime()-i.getTimezoneOffset()*o;return Math.round((u-c)/a)}},function(t,e,n){var r=n(12),o=36e5;t.exports=function(t,e){var n=r(t,e)/o;return n>0?Math.floor(n):Math.ceil(n)}},function(t,e,n){var r=n(0),o=n(35),a=n(8),s=n(40);t.exports=function(t,e){var n=r(t),i=r(e),u=a(n,i),c=Math.abs(o(n,i));return n=s(n,u*c),u*(c-(a(n,i)===-u))}},function(t,e,n){var r=n(12),o=6e4;t.exports=function(t,e){var n=r(t,e)/o;return n>0?Math.floor(n):Math.ceil(n)}},function(t,e,n){var r=n(19);t.exports=function(t,e){var n=r(t,e)/3;return n>0?Math.floor(n):Math.ceil(n)}},function(t,e,n){var r=n(39);t.exports=function(t,e){var n=r(t,e)/7;return n>0?Math.floor(n):Math.ceil(n)}},function(t,e,n){var r=n(0),o=n(38),a=n(8);t.exports=function(t,e){var n=r(t),s=r(e),i=a(n,s),u=Math.abs(o(n,s));return n.setFullYear(n.getFullYear()-i*u),i*(u-(a(n,s)===-i))}},function(t,e){t.exports=function(){var t={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};return{localize:function(e,n,r){var o;return r=r||{},o="string"==typeof t[e]?t[e]:1===n?t[e].one:t[e].other.replace("{{count}}",n),r.addSuffix?r.comparison>0?"in "+o:o+" ago":o}}}},function(t,e,n){var r=n(88);t.exports=function(){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e=["January","February","March","April","May","June","July","August","September","October","November","December"],n=["Su","Mo","Tu","We","Th","Fr","Sa"],o=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],a=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s=["AM","PM"],i=["am","pm"],u=["a.m.","p.m."],c={MMM:function(e){return t[e.getMonth()]},MMMM:function(t){return e[t.getMonth()]},dd:function(t){return n[t.getDay()]},ddd:function(t){return o[t.getDay()]},dddd:function(t){return a[t.getDay()]},A:function(t){return t.getHours()/12>=1?s[1]:s[0]},a:function(t){return t.getHours()/12>=1?i[1]:i[0]},aa:function(t){return t.getHours()/12>=1?u[1]:u[0]}};return["M","D","DDD","d","Q","W"].forEach(function(t){c[t+"o"]=function(e,n){return function(t){var e=t%100;if(e>20||e<10)switch(e%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"}(n[t](e))}}),{formatters:c,formattingTokensRegExp:r(c)}}},function(t,e){var n=["M","MM","Q","D","DD","DDD","DDDD","d","E","W","WW","YY","YYYY","GG","GGGG","H","HH","h","hh","m","mm","s","ss","S","SS","SSS","Z","ZZ","X","x"];t.exports=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(r);var o=n.concat(e).sort().reverse();return new RegExp("(\\[[^\\[]*\\])|(\\\\)?("+o.join("|")+"|.)","g")}},function(t,e,n){var r=n(18),o=n(0),a=n(20),s=n(21),i=1440,u=43200,c=525600;t.exports=function(t,e,n){var p=n||{},l=r(t,e),f=p.locale,h=s.distanceInWords.localize;f&&f.distanceInWords&&f.distanceInWords.localize&&(h=f.distanceInWords.localize);var d,m,v,y={addSuffix:Boolean(p.addSuffix),comparison:l};l>0?(d=o(t),m=o(e)):(d=o(e),m=o(t));var g=Math[p.partialMethod?String(p.partialMethod):"floor"],x=a(m,d),S=m.getTimezoneOffset()-d.getTimezoneOffset(),M=g(x/60)-S;if("s"===(v=p.unit?String(p.unit):M<1?"s":M<60?"m":M<i?"h":M<u?"d":M<c?"M":"Y"))return h("xSeconds",x,y);if("m"===v)return h("xMinutes",M,y);if("h"===v)return h("xHours",g(M/60),y);if("d"===v)return h("xDays",g(M/i),y);if("M"===v)return h("xMonths",g(M/u),y);if("Y"===v)return h("xYears",g(M/c),y);throw new Error("Unknown unit: "+v)}},function(t,e,n){var r=n(41);t.exports=function(t,e){return r(Date.now(),t,e)}},function(t,e,n){var r=n(0);t.exports=function(t,e,n){var o=r(t),a=r(e),s=void 0!==n?n:1,i=a.getTime();if(o.getTime()>i)throw new Error("The first date cannot be after the second date");var u=[],c=o;for(c.setHours(0,0,0,0);c.getTime()<=i;)u.push(r(c)),c.setDate(c.getDate()+s);return u}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setMinutes(59,59,999),e}},function(t,e,n){var r=n(42);t.exports=function(t){return r(t,{weekStartsOn:1})}},function(t,e,n){var r=n(1),o=n(2);t.exports=function(t){var e=r(t),n=new Date(0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);var a=o(n);return a.setMilliseconds(a.getMilliseconds()-1),a}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setSeconds(59,999),e}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=e.getMonth(),o=n-n%3+3;return e.setMonth(o,0),e.setHours(23,59,59,999),e}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setMilliseconds(999),e}},function(t,e,n){var r=n(22);t.exports=function(){return r(new Date)}},function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r+1),o.setHours(23,59,59,999),o}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(23,59,59,999),e}},function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r-1),o.setHours(23,59,59,999),o}},function(t,e,n){var r=n(44),o=n(23),a=n(1),s=n(0),i=n(46),u=n(21);var c={M:function(t){return t.getMonth()+1},MM:function(t){return f(t.getMonth()+1,2)},Q:function(t){return Math.ceil((t.getMonth()+1)/3)},D:function(t){return t.getDate()},DD:function(t){return f(t.getDate(),2)},DDD:function(t){return r(t)},DDDD:function(t){return f(r(t),3)},d:function(t){return t.getDay()},E:function(t){return t.getDay()||7},W:function(t){return o(t)},WW:function(t){return f(o(t),2)},YY:function(t){return f(t.getFullYear(),4).substr(2)},YYYY:function(t){return f(t.getFullYear(),4)},GG:function(t){return String(a(t)).substr(2)},GGGG:function(t){return a(t)},H:function(t){return t.getHours()},HH:function(t){return f(t.getHours(),2)},h:function(t){var e=t.getHours();return 0===e?12:e>12?e%12:e},hh:function(t){return f(c.h(t),2)},m:function(t){return t.getMinutes()},mm:function(t){return f(t.getMinutes(),2)},s:function(t){return t.getSeconds()},ss:function(t){return f(t.getSeconds(),2)},S:function(t){return Math.floor(t.getMilliseconds()/100)},SS:function(t){return f(Math.floor(t.getMilliseconds()/10),2)},SSS:function(t){return f(t.getMilliseconds(),3)},Z:function(t){return l(t.getTimezoneOffset(),":")},ZZ:function(t){return l(t.getTimezoneOffset())},X:function(t){return Math.floor(t.getTime()/1e3)},x:function(t){return t.getTime()}};function p(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|]$/g,""):t.replace(/\\/g,"")}function l(t,e){e=e||"";var n=t>0?"-":"+",r=Math.abs(t),o=r%60;return n+f(Math.floor(r/60),2)+e+f(o,2)}function f(t,e){for(var n=Math.abs(t).toString();n.length<e;)n="0"+n;return n}t.exports=function(t,e,n){var r=e?String(e):"YYYY-MM-DDTHH:mm:ss.SSSZ",o=(n||{}).locale,a=u.format.formatters,l=u.format.formattingTokensRegExp;o&&o.format&&o.format.formatters&&(a=o.format.formatters,o.format.formattingTokensRegExp&&(l=o.format.formattingTokensRegExp));var f=s(t);return i(f)?function(t,e,n){var r,o,a=t.match(n),s=a.length;for(r=0;r<s;r++)o=e[a[r]]||c[a[r]],a[r]=o||p(a[r]);return function(t){for(var e="",n=0;n<s;n++)a[n]instanceof Function?e+=a[n](t,c):e+=a[n];return e}}(r,a,l)(f):"Invalid Date"}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getDate()}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getDay()}},function(t,e,n){var r=n(47);t.exports=function(t){return r(t)?366:365}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getHours()}},function(t,e,n){var r=n(7),o=n(17),a=6048e5;t.exports=function(t){var e=r(t),n=r(o(e,60)).valueOf()-e.valueOf();return Math.round(n/a)}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getMilliseconds()}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getMinutes()}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getMonth()}},function(t,e,n){var r=n(0),o=864e5;t.exports=function(t,e,n,a){var s=r(t).getTime(),i=r(e).getTime(),u=r(n).getTime(),c=r(a).getTime();if(s>i||u>c)throw new Error("The start of the range cannot be after the end of the range");if(!(s<c&&u<i))return 0;var p=(c>i?i:c)-(u<s?s:u);return Math.ceil(p/o)}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getSeconds()}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getFullYear()}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()>o.getTime()}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()<o.getTime()}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()===o.getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){return 1===r(t).getDate()}},function(t,e,n){var r=n(0);t.exports=function(t){return 5===r(t).getDay()}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getTime()>(new Date).getTime()}},function(t,e,n){var r=n(0),o=n(22),a=n(43);t.exports=function(t){var e=r(t);return o(e).getTime()===a(e).getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){return 1===r(t).getDay()}},function(t,e,n){var r=n(0);t.exports=function(t){return r(t).getTime()<(new Date).getTime()}},function(t,e,n){var r=n(3);t.exports=function(t,e){var n=r(t),o=r(e);return n.getTime()===o.getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){return 6===r(t).getDay()}},function(t,e,n){var r=n(0);t.exports=function(t){return 0===r(t).getDay()}},function(t,e,n){var r=n(49);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(51);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(52);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(53);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(55);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(56);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(58);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(24);t.exports=function(t,e){return r(new Date,t,e)}},function(t,e,n){var r=n(60);t.exports=function(t){return r(new Date,t)}},function(t,e,n){var r=n(0);t.exports=function(t){return 4===r(t).getDay()}},function(t,e,n){var r=n(3);t.exports=function(t){return r(t).getTime()===r(new Date).getTime()}},function(t,e,n){var r=n(3);t.exports=function(t){var e=new Date;return e.setDate(e.getDate()+1),r(t).getTime()===r(e).getTime()}},function(t,e,n){var r=n(0);t.exports=function(t){return 2===r(t).getDay()}},function(t,e,n){var r=n(0);t.exports=function(t){return 3===r(t).getDay()}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t).getDay();return 0===e||6===e}},function(t,e,n){var r=n(0);t.exports=function(t,e,n){var o=r(t).getTime(),a=r(e).getTime(),s=r(n).getTime();if(a>s)throw new Error("The start of the range cannot be after the end of the range");return o>=a&&o<=s}},function(t,e,n){var r=n(3);t.exports=function(t){var e=new Date;return e.setDate(e.getDate()-1),r(t).getTime()===r(e).getTime()}},function(t,e,n){var r=n(61);t.exports=function(t){return r(t,{weekStartsOn:1})}},function(t,e,n){var r=n(1),o=n(2);t.exports=function(t){var e=r(t),n=new Date(0);n.setFullYear(e+1,0,4),n.setHours(0,0,0,0);var a=o(n);return a.setDate(a.getDate()-1),a}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=e.getMonth(),o=n-n%3+3;return e.setMonth(o,0),e.setHours(0,0,0,0),e}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t),n=e.getFullYear();return e.setFullYear(n+1,0,0),e.setHours(0,0,0,0),e}},function(t,e,n){var r=n(0);t.exports=function(){var t=Array.prototype.slice.call(arguments).map(function(t){return r(t)}),e=Math.max.apply(null,t);return new Date(e)}},function(t,e,n){var r=n(0);t.exports=function(){var t=Array.prototype.slice.call(arguments).map(function(t){return r(t)}),e=Math.min.apply(null,t);return new Date(e)}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=Number(e);return n.setDate(o),n}},function(t,e,n){var r=n(0),o=n(5);t.exports=function(t,e,n){var a=n&&Number(n.weekStartsOn)||0,s=r(t),i=Number(e),u=s.getDay();return o(s,((i%7+7)%7<a?7:0)+i-u)}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=Number(e);return n.setMonth(0),n.setDate(o),n}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=Number(e);return n.setHours(o),n}},function(t,e,n){var r=n(0),o=n(5),a=n(48);t.exports=function(t,e){var n=r(t),s=Number(e),i=a(n);return o(n,s-i)}},function(t,e,n){var r=n(0),o=n(23);t.exports=function(t,e){var n=r(t),a=Number(e),s=o(n)-a;return n.setDate(n.getDate()-7*s),n}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=Number(e);return n.setMilliseconds(o),n}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=Number(e);return n.setMinutes(o),n}},function(t,e,n){var r=n(0),o=n(62);t.exports=function(t,e){var n=r(t),a=Number(e)-(Math.floor(n.getMonth()/3)+1);return o(n,n.getMonth()+3*a)}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=Number(e);return n.setSeconds(o),n}},function(t,e,n){var r=n(0);t.exports=function(t,e){var n=r(t),o=Number(e);return n.setFullYear(o),n}},function(t,e,n){var r=n(0);t.exports=function(t){var e=r(t);return e.setDate(1),e.setHours(0,0,0,0),e}},function(t,e,n){var r=n(3);t.exports=function(){return r(new Date)}},function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r+1),o.setHours(0,0,0,0),o}},function(t,e){t.exports=function(){var t=new Date,e=t.getFullYear(),n=t.getMonth(),r=t.getDate(),o=new Date(0);return o.setFullYear(e,n,r-1),o.setHours(0,0,0,0),o}},function(t,e,n){var r=n(5);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(28);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(6);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(31);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(11);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(32);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(33);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(17);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r=n(34);t.exports=function(t,e){var n=Number(e);return r(t,-n)}},function(t,e,n){var r,o=o||function(t){"use strict";if(!(void 0===t||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var e=function(){return t.URL||t.webkitURL||t},n=t.document.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,o=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),s=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},i=function(t){setTimeout(function(){"string"==typeof t?e().revokeObjectURL(t):t.remove()},4e4)},u=function(t){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob([String.fromCharCode(65279),t],{type:t.type}):t},c=function(c,p,l){l||(c=u(c));var f,h=this,d="application/octet-stream"===c.type,m=function(){!function(t,e,n){for(var r=(e=[].concat(e)).length;r--;){var o=t["on"+e[r]];if("function"==typeof o)try{o.call(t,n||t)}catch(t){s(t)}}}(h,"writestart progress write writeend".split(" "))};if(h.readyState=h.INIT,r)return f=e().createObjectURL(c),void setTimeout(function(){n.href=f,n.download=p,function(t){var e=new MouseEvent("click");t.dispatchEvent(e)}(n),m(),i(f),h.readyState=h.DONE});!function(){if((a||d&&o)&&t.FileReader){var n=new FileReader;return n.onloadend=function(){var e=a?n.result:n.result.replace(/^data:[^;]*;/,"data:attachment/file;");t.open(e,"_blank")||(t.location.href=e),e=void 0,h.readyState=h.DONE,m()},n.readAsDataURL(c),void(h.readyState=h.INIT)}f||(f=e().createObjectURL(c)),d?t.location.href=f:t.open(f,"_blank")||(t.location.href=f);h.readyState=h.DONE,m(),i(f)}()},p=c.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(t,e,n){return e=e||t.name||"download",n||(t=u(t)),navigator.msSaveOrOpenBlob(t,e)}:(p.abort=function(){},p.readyState=p.INIT=0,p.WRITING=1,p.DONE=2,p.error=p.onwritestart=p.onprogress=p.onwrite=p.onabort=p.onerror=p.onwriteend=null,function(t,e,n){return new c(t,e||t.name||"download",n)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */void 0!==t&&t.exports?t.exports.saveAs=o:null!==n(176)&&null!==n(177)&&(void 0===(r=function(){return o}.call(e,n,e,t))||(t.exports=r))},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){"use strict";const r=n(27).format;t.exports=class{constructor(){this.styles={},this.placemarks=[]}addLineString(t,e,n,r,o){const a=r.substr(1),s=r.substr(5,2)+r.substr(3,2)+r.substr(1,2),i=`line-${a}-${o}`;this.styles[i]="<LineStyle>"+`<color>ff${s}</color>`+`<width>${o}</width>`+"</LineStyle>",this.placemarks.push("<Placemark>"+`<name>${t}</name>`+`<description><![CDATA[${e}]]></description>`+`<styleUrl>#${i}</styleUrl>`,"<LineString><tessellate>1</tessellate><coordinates>"+n.map(([t,e])=>`${t.toFixed(5)},${e.toFixed(5)},0`).join("\n")+"</coordinates></LineString></Placemark>")}build(){const t=[],e=r(new Date,"YYYY-MM-DD HH:mm:ss");t.push('<?xml version="1.0" encoding="UTF-8"?>'),t.push('<kml xmlns="http://www.opengis.net/kml/2.2">'),t.push("<Document>"),t.push(`<name>Japan Railroad Plotter (${e})</name>`);for(const e in this.styles)t.push(`<Style id="${e}">${this.styles[e]}</Style>`);for(const e of this.placemarks)t.push(e);return t.push("</Document>"),t.push("</kml>"),t.join("\n")}},t.exports.MIME="application/vnd.google-earth.kml+xml; charset=utf-8"},function(t,e,n){},,function(t,e,n){"use strict";n.r(e);var r=function(t){return t},o=function(t){if(null==t)return r;var e,n,o=t.scale[0],a=t.scale[1],s=t.translate[0],i=t.translate[1];return function(t,r){r||(e=n=0);var u=2,c=t.length,p=new Array(c);for(p[0]=(e+=t[0])*o+s,p[1]=(n+=t[1])*a+i;u<c;)p[u]=t[u],++u;return p}},a=function(t){var e,n=o(t.transform),r=1/0,a=r,s=-r,i=-r;function u(t){(t=n(t))[0]<r&&(r=t[0]),t[0]>s&&(s=t[0]),t[1]<a&&(a=t[1]),t[1]>i&&(i=t[1])}function c(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(c);break;case"Point":u(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(u)}}for(e in t.arcs.forEach(function(t){for(var e,o=-1,u=t.length;++o<u;)(e=n(t[o],o))[0]<r&&(r=e[0]),e[0]>s&&(s=e[0]),e[1]<a&&(a=e[1]),e[1]>i&&(i=e[1])}),t.objects)c(t.objects[e]);return[r,a,s,i]},s=function(t,e){for(var n,r=t.length,o=r-e;o<--r;)n=t[o],t[o++]=t[r],t[r]=n},i=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return u(t,e)})}:u(t,e)};function u(t,e){var n=e.id,r=e.bbox,o=null==e.properties?{}:e.properties,a=c(t,e);return null==n&&null==r?{type:"Feature",properties:o,geometry:a}:null==r?{type:"Feature",id:n,properties:o,geometry:a}:{type:"Feature",id:n,bbox:r,properties:o,geometry:a}}function c(t,e){var n=o(t.transform),r=t.arcs;function a(t,e){e.length&&e.pop();for(var o=r[t<0?~t:t],a=0,i=o.length;a<i;++a)e.push(n(o[a],a));t<0&&s(e,i)}function i(t){return n(t)}function u(t){for(var e=[],n=0,r=t.length;n<r;++n)a(t[n],e);return e.length<2&&e.push(e[0]),e}function c(t){for(var e=u(t);e.length<4;)e.push(e[0]);return e}function p(t){return t.map(c)}return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=i(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(i);break;case"LineString":n=u(e.arcs);break;case"MultiLineString":n=e.arcs.map(u);break;case"Polygon":n=p(e.arcs);break;case"MultiPolygon":n=e.arcs.map(p);break;default:return null}return{type:r,coordinates:n}}(e)}var p=function(t,e){var n={},r={},o={},a=[],s=-1;function i(t,e){for(var r in t){var o=t[r];delete e[o.start],delete o.start,delete o.end,o.forEach(function(t){n[t<0?~t:t]=1}),a.push(o)}}return e.forEach(function(n,r){var o,a=t.arcs[n<0?~n:n];a.length<3&&!a[1][0]&&!a[1][1]&&(o=e[++s],e[s]=n,e[r]=o)}),e.forEach(function(e){var n,a,s=function(e){var n,r=t.arcs[e<0?~e:e],o=r[0];t.transform?(n=[0,0],r.forEach(function(t){n[0]+=t[0],n[1]+=t[1]})):n=r[r.length-1];return e<0?[n,o]:[o,n]}(e),i=s[0],u=s[1];if(n=o[i])if(delete o[n.end],n.push(e),n.end=u,a=r[u]){delete r[a.start];var c=a===n?n:n.concat(a);r[c.start=n.start]=o[c.end=a.end]=c}else r[n.start]=o[n.end]=n;else if(n=r[u])if(delete r[n.start],n.unshift(e),n.start=i,a=o[i]){delete o[a.end];var p=a===n?n:a.concat(n);r[p.start=a.start]=o[p.end=n.end]=p}else r[n.start]=o[n.end]=n;else r[(n=[e]).start=i]=o[n.end=u]=n}),i(o,r),i(r,o),e.forEach(function(t){n[t<0?~t:t]||a.push([t])}),a},l=function(t){return c(t,f.apply(this,arguments))};function f(t,e,n){var r,o,a;if(arguments.length>1)r=function(t,e,n){var r,o=[],a=[];function s(t){var e=t<0?~t:t;(a[e]||(a[e]=[])).push({i:t,g:r})}function i(t){t.forEach(s)}function u(t){t.forEach(i)}return function t(e){switch(r=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":i(e.arcs);break;case"MultiLineString":case"Polygon":u(e.arcs);break;case"MultiPolygon":!function(t){t.forEach(u)}(e.arcs)}}(e),a.forEach(null==n?function(t){o.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&o.push(t[0].i)}),o}(0,e,n);else for(o=0,r=new Array(a=t.arcs.length);o<a;++o)r[o]=o;return{type:"MultiLineString",arcs:p(t,r)}}var h=function(t){return c(t,d.apply(this,arguments))};function d(t,e){var n={},r=[],o=[];function a(t){t.forEach(function(e){e.forEach(function(e){(n[e=e<0?~e:e]||(n[e]=[])).push(t)})}),r.push(t)}function s(e){return function(t){for(var e,n=-1,r=t.length,o=t[r-1],a=0;++n<r;)e=o,o=t[n],a+=e[0]*o[1]-e[1]*o[0];return Math.abs(a)}(c(t,{type:"Polygon",arcs:[e]}).coordinates[0])}return e.forEach(function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":a(e.arcs);break;case"MultiPolygon":e.arcs.forEach(a)}}),r.forEach(function(t){if(!t._){var e=[],r=[t];for(t._=1,o.push(e);t=r.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){n[t<0?~t:t].forEach(function(t){t._||(t._=1,r.push(t))})})})}}),r.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:o.map(function(e){var r,o=[];if(e.forEach(function(t){t.forEach(function(t){t.forEach(function(t){n[t<0?~t:t].length<2&&o.push(t)})})}),(r=(o=p(t,o)).length)>1)for(var a,i,u=1,c=s(o[0]);u<r;++u)(a=s(o[u]))>c&&(i=o[0],o[0]=o[u],o[u]=i,c=a);return o})}}var m=function(t,e){for(var n=0,r=t.length;n<r;){var o=n+r>>>1;t[o]<e?n=o+1:r=o}return n},v=function(t){var e={},n=t.map(function(){return[]});function r(t,n){t.forEach(function(t){t<0&&(t=~t);var r=e[t];r?r.push(n):e[t]=[n]})}function o(t,e){t.forEach(function(t){r(t,e)})}var a={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(t,e){t.forEach(function(t){o(t,e)})}};for(var s in t.forEach(function t(e,n){"GeometryCollection"===e.type?e.geometries.forEach(function(e){t(e,n)}):e.type in a&&a[e.type](e.arcs,n)}),e)for(var i=e[s],u=i.length,c=0;c<u;++c)for(var p=c+1;p<u;++p){var l,f=i[c],h=i[p];(l=n[f])[s=m(l,h)]!==h&&l.splice(s,0,h),(l=n[h])[s=m(l,f)]!==f&&l.splice(s,0,f)}return n},y=function(t){if(null==t)return r;var e,n,o=t.scale[0],a=t.scale[1],s=t.translate[0],i=t.translate[1];return function(t,r){r||(e=n=0);var u=2,c=t.length,p=new Array(c),l=Math.round((t[0]-s)/o),f=Math.round((t[1]-i)/a);for(p[0]=l-e,e=l,p[1]=f-n,n=f;u<c;)p[u]=t[u],++u;return p}},g=function(t,e){if(t.transform)throw new Error("already quantized");if(e&&e.scale)u=t.bbox;else{if(!((n=Math.floor(e))>=2))throw new Error("n must be ≥2");var n,r=(u=t.bbox||a(t))[0],o=u[1],s=u[2],i=u[3];e={scale:[s-r?(s-r)/(n-1):1,i-o?(i-o)/(n-1):1],translate:[r,o]}}var u,c,p=y(e),l=t.objects,f={};function h(t){return p(t)}function d(t){var e;switch(t.type){case"GeometryCollection":e={type:"GeometryCollection",geometries:t.geometries.map(d)};break;case"Point":e={type:"Point",coordinates:h(t.coordinates)};break;case"MultiPoint":e={type:"MultiPoint",coordinates:t.coordinates.map(h)};break;default:return t}return null!=t.id&&(e.id=t.id),null!=t.bbox&&(e.bbox=t.bbox),null!=t.properties&&(e.properties=t.properties),e}for(c in l)f[c]=d(l[c]);return{type:"Topology",bbox:u,transform:e,objects:f,arcs:t.arcs.map(function(t){var e,n=0,r=1,o=t.length,a=new Array(o);for(a[0]=p(t[0],0);++n<o;)((e=p(t[n],n))[0]||e[1])&&(a[r++]=e);return 1===r&&(a[r++]=[0,0]),a.length=r,a})}};n.d(e,"bbox",function(){return a}),n.d(e,"feature",function(){return i}),n.d(e,"mesh",function(){return l}),n.d(e,"meshArcs",function(){return f}),n.d(e,"merge",function(){return h}),n.d(e,"mergeArcs",function(){return d}),n.d(e,"neighbors",function(){return v}),n.d(e,"quantize",function(){return g}),n.d(e,"transform",function(){return o}),n.d(e,"untransform",function(){return y})}]);